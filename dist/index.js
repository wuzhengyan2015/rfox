!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rfox=e():t.rfox=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=42)}([function(t,e,n){"use strict";t.exports=n(16)},function(t,e,n){var i;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)&&i.length){var a=r.apply(null,i);a&&t.push(a)}else if("object"===o)for(var s in i)n.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(i=function(){return r}.apply(e,[]))||(t.exports=i)}()},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,c=0,l=[],u=n(13);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(m(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(m(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,n);n.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return y(e,t.attrs),p(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=h||(h=v(e)),i=S.bind(null,n,a,!1),r=S.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return f(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}t&&f(d(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var h=0;h<s.parts.length;h++)s.parts[h]();delete o[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function S(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){(function(i){var r,o,a,s,h,c,l,u,f,d,p,g,v,y,m={};r=this,o=Math.PI/180,(m={version:"5.2.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=m.DD;return!!t&&t.isDragging},isDragReady:function(){var t=m.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){if(void 0!==e)for(var n=e.split(/\s/g),i=0;i<n.length;i++){var r=n[i];r&&(void 0===this.names[r]&&(this.names[r]=[]),this.names[r].push(t))}},_removeName:function(t,e){if(void 0!==t){var n=this.names[t];if(void 0!==n){for(var i=0;i<n.length;i++)n[i]._id===e&&n.splice(i,1);0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*o:t},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",mobile:i,ieMobile:r}},UA:void 0}).UA=m._parseUA(r.navigator&&r.navigator.userAgent||""),function(e,r){var o=m;if(i.window===i)m.document=i.document,m.window=i;else{var a=n(38),s=n(39).jsdom;m.document=s("<!DOCTYPE html><html><head></head><body></body></html>"),m.window=m.document.createWindow(),m.window.Image=a.Image,m._nodeCanvas=a}m.root=e,t.exports=o}(this),function(){m.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;n<e;n++)this[n]=t[n];return this},m.Collection.prototype=[],m.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},m.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e},m.Collection.toCollection=function(t){var e,n=new m.Collection,i=t.length;for(e=0;e<i;e++)n.push(t[e]);return n},m.Collection._mapMethod=function(t){m.Collection.prototype[t]=function(){var e,n=this.length,i=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],i);return this}},m.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)m.Collection._mapMethod(n)},m.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},m.Transform.prototype={copy:function(){return new m.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=a,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=o,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],o=this.m[3],a=this.m[4],s=(n*(e-this.m[5])-i*(t-a))/(n*o-i*r),h=(t-a-r*s)/n;return this.translate(h,s)}};var t=Math.PI/180,n=180/Math.PI,i={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},r=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;m.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"==Object.prototype.toString.call(t)},_isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},_throttle:function(t,e,n){var i,r,o,a=null,s=0,h=n||{},c=function(){s=!1===h.leading?0:(new Date).getTime(),a=null,o=t.apply(i,r),i=r=null};return function(){var n=(new Date).getTime();s||!1!==h.leading||(s=n);var l=e-(n-s);return i=this,r=arguments,l<=0?(clearTimeout(a),a=null,s=n,o=t.apply(i,r),i=r=null):a||!1===h.trailing||(a=setTimeout(c,l)),o}},_hasMethods:function(t){var e,n=[];for(e in t)this._isFunction(t[e])&&n.push(e);return n.length>0},createCanvasElement:function(){var t=m.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof e},_isInDocument:function(t){for(;t=t.parentNode;)if(t==m.document)return!0;return!1},_simplifyArray:function(t){var e,n,i=[],r=t.length,o=m.Util;for(e=0;e<r;e++)n=t[e],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n=n.toString()),i.push(n);return i},_getImage:function(t,e){var n,i;if(t)if(this._isElement(t))e(t);else if(this._isString(t))(n=new m.window.Image).onload=function(){e(n)},n.src=t;else if(t.data){(i=m.Util.createCanvasElement()).width=t.width,i.height=t.height,i.getContext("2d").putImageData(t,0,0),this._getImage(i.toDataURL(),e)}else e(null);else e(null)},_getRGBAString:function(t){return["rgba(",t.red||0,",",t.green||0,",",t.blue||0,",",t.alpha||1,")"].join("")},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in i?{r:(e=i[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=r.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var n=this._clone(e);for(var i in t)this._isObject(t[i])?n[i]=this._merge(t[i],n[i]):n[i]=t[i];return n},cloneObject:function(t){var e={};for(var n in t)this._isObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(e){return e*t},_radToDeg:function(t){return t*n},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error("Kinetic error: "+t)},warn:function(t){m.root.console&&console.warn&&m.showWarnings&&console.warn("Kinetic warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var i=t.prototype;for(var r in t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.__super__=e.prototype},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,i,r,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),h=Math.sqrt(Math.pow(r-n,2)+Math.pow(o-i,2)),c=a*s/(s+h),l=a*h/(s+h);return[n-c*(r-t),i-c*(o-e),n+l*(r-t),i+l*(o-e)]},_expandPoints:function(t,e){var n,i,r=t.length,o=[];for(n=2;n<r-2;n+=2)i=m.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),o.push(i[0]),o.push(i[1]),o.push(t[n]),o.push(t[n+1]),o.push(i[2]),o.push(i[3]);return o},_removeLastLetter:function(t){return t.substring(0,t.length-1)}}}(),a=m.Util.createCanvasElement().getContext("2d"),s=m.UA.mobile?(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1):1,m.Canvas=function(t){this.init(t)},m.Canvas.prototype={init:function(t){var e=(t||{}).pixelRatio||m.pixelRatio||s;this.pixelRatio=e,this._canvas=m.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return m.Util.warn("Unable to get data URL. "+t.message),""}}}},m.SceneCanvas=function(t){var e=t||{},n=e.width||0,i=e.height||0;m.Canvas.call(this,e),this.context=new m.SceneContext(this),this.setSize(n,i)},m.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,n=this.getContext()._context;m.Canvas.prototype.setWidth.call(this,t),n.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,n=this.getContext()._context;m.Canvas.prototype.setHeight.call(this,t),n.scale(e,e)}},m.Util.extend(m.SceneCanvas,m.Canvas),m.HitCanvas=function(t){var e=t||{},n=e.width||0,i=e.height||0;m.Canvas.call(this,e),this.context=new m.HitContext(this),this.setSize(n,i),this.hitCanvas=!0},m.Util.extend(m.HitCanvas,m.Canvas),h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m.Context=function(t){this.init(t)},m.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),m.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(t){var e,n,i,r,o=this.traceArr,a=o.length,s="";for(e=0;e<a;e++)(i=(n=o[e]).method)?(r=n.args,s+=i,t?s+="()":m.Util._isArray(r[0])?s+="(["+r.join(",")+"])":s+="("+r.join(",")+")"):(s+=n.property,t||(s+="="+n.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e=this.traceArr;e.push(t),e.length>=m.traceArrMax&&e.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,i=h.length,r=m.Util._simplifyArray,o=this.setAttr,a=function(t){var i,o=n[t];n[t]=function(){return e=r(Array.prototype.slice.call(arguments,0)),i=o.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;t<i;t++)a(h[t]);n.setAttr=function(){o.apply(n,arguments),n._trace({property:arguments[0],val:arguments[1]})}}},m.SceneContext=function(t){m.Context.call(this,t)},m.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||m.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),n=t.getFillPatternX(),i=t.getFillPatternY(),r=t.getFillPatternScale(),o=m.getAngle(t.getFillPatternRotation()),a=t.getFillPatternOffset(),s=t.getFillPatternRepeat();(n||i)&&this.translate(n||0,i||0),o&&this.rotate(o),r&&this.scale(r.x,r.y),a&&this.translate(-1*a.x,-1*a.y),this.setAttr("fillStyle",this.createPattern(e,s||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),i=t.getFillLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var o=0;o<i.length;o+=2)r.addColorStop(i[o],i[o+1]);this.setAttr("fillStyle",r),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),i=t.getFillRadialGradientStartRadius(),r=t.getFillRadialGradientEndRadius(),o=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,i,n.x,n.y,r),s=0;s<o.length;s+=2)a.addColorStop(o[s],o[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),n=t.getFillPatternImage(),i=t.getFillLinearGradientColorStops(),r=t.getFillRadialGradientColorStops(),o=t.getFillPriority();e&&"color"===o?this._fillColor(t):n&&"pattern"===o?this._fillPattern(t):i&&"linear-gradient"===o?this._fillLinearGradient(t):r&&"radial-gradient"===o?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):i?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||m.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=m.Util,n=t.getAbsoluteOpacity(),i=e.get(t.getShadowColor(),"black"),r=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOpacity(),1),a=e.get(t.getShadowOffset(),{x:0,y:0});o&&this.setAttr("globalAlpha",o*n),this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r),this.setAttr("shadowOffsetX",a.x),this.setAttr("shadowOffsetY",a.y)}},m.Util.extend(m.SceneContext,m.Context),m.HitContext=function(t){m.Context.call(this,t)},m.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},m.Util.extend(m.HitContext,m.Context),m.Factory={addGetterSetter:function(t,e,n,i,r){this.addGetter(t,e,n),this.addSetter(t,e,i,r),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var i="get"+m.Util._capitalize(e);t.prototype[i]=function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,e,n,i){var r="set"+m.Util._capitalize(e);t.prototype[r]=function(t){return n&&(t=n.call(this,t)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,e,n,i,r){var o,a,s=n.length,h=m.Util._capitalize,c="get"+h(e),l="set"+h(e);t.prototype[c]=function(){var t={};for(o=0;o<s;o++)t[a=n[o]]=this.getAttr(e+h(a));return t},t.prototype[l]=function(t){var n,o=this.attrs[e];for(n in i&&(t=i.call(this,t)),t)this._setAttr(e+h(n),t[n]);return this._fireChangeEvent(e,o,t),r&&r.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var n=m.Util._capitalize(e),i="set"+n,r="get"+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[r]()}},backCompat:function(t,e){var n;for(n in e)t.prototype[n]=t.prototype[e[n]]},afterSetFilter:function(){this._filterUpToDate=!1}},m.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}},c="Shape",l=["id"],u=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(" "),m.Util.addMethods(m.Node,{_init:function(t){var e=this;this._id=m.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(t),this.on(u,function(){this._clearCache("transform"),e._clearSelfAndDescendantCache("absoluteTransform")}),this.on("visibleChange.kinetic",function(){e._clearSelfAndDescendantCache("visible")}),this.on("listeningChange.kinetic",function(){e._clearSelfAndDescendantCache("listening")}),this.on("opacityChange.kinetic",function(){e._clearSelfAndDescendantCache("absoluteOpacity")})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){return void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var e=t||{},n=e.x||0,i=e.y||0,r=e.width||this.width(),o=e.height||this.height(),a=e.drawBorder||!1;if(0!==r&&0!==o){var s=new m.SceneCanvas({pixelRatio:1,width:r,height:o}),h=new m.SceneCanvas({pixelRatio:1,width:r,height:o}),c=new m.HitCanvas({width:r,height:o}),l=s.getContext(),u=c.getContext();return c.isCache=!0,this.clearCache(),l.save(),u.save(),a&&(l.save(),l.beginPath(),l.rect(0,0,r,o),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),l.translate(-1*n,-1*i),u.translate(-1*n,-1*i),"Shape"===this.nodeType&&(l.translate(-1*this.x(),-1*this.y()),u.translate(-1*this.x(),-1*this.y())),this.drawScene(s,this),this.drawHit(c,this),l.restore(),u.restore(),this._cache.canvas={scene:s,filter:h,hit:c},this}m.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.")},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t._applyOpacity(this),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,n,i=this.filters(),r=this._cache.canvas,o=r.scene,a=r.filter,s=a.getContext();if(i){if(!this._filterUpToDate){try{for(t=i.length,s.clear(),s.drawImage(o._canvas,0,0),e=s.getImageData(0,0,a.getWidth(),a.getHeight()),n=0;n<t;n++)i[n].call(this,e),s.putImageData(e,0,0)}catch(t){m.Util.warn("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return a}return o},_drawCachedHitCanvas:function(t){var e=this._cache.canvas.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(e._canvas,0,0),t.restore()},on:function(t,e){var n,i,r,o,a=t.split(" "),s=a.length;for(n=0;n<s;n++)r=(i=a[n].split("."))[0],o=i[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:o,handler:e});return this},off:function(t){var e,n,i,r,o,a=(t||"").split(" "),s=a.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;e<s;e++)if(r=(i=a[e].split("."))[0],o=i[1],r)this.eventListeners[r]&&this._off(r,o);else for(n in this.eventListeners)this._off(n,o);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};this.fire(t.type,e)},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},removeEventListener:function(t){this.off(t)},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity"),this},destroy:function(){m._removeId(this.getId()),m._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e="get"+m.Util._capitalize(t);return m.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new m.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,n;if(t)for(e in t)"children"===e||t[e]instanceof m.Node||(n="set"+m.Util._capitalize(e),m.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache("listening",this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var t,e,n,i,r=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(h){for(t=[],e=h.length,n=0;n<e;n++)i=h[n],a++,i.nodeType!==c&&(t=t.concat(i.getChildren().toArray())),i._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&s(t)}(o.getStage().getChildren()),a},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new m.Transform,n=this.offset();return e.m=t.slice(),e.translate(n.x,n.y),e.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),t},move:function(t){var e=t.x,n=t.y,i=this.getX(),r=this.getY();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this},_eachAncestorReverse:function(t,e){var n,i,r=[],o=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(r.unshift(this);o&&(!e||o._id!==e._id);)r.unshift(o),o=o.parent;for(n=r.length,i=0;i<n;i++)t(r[i])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(this.parent){var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}m.Util.warn("Node has no parent. moveToTop function is ignored.")},moveUp:function(){if(this.parent){var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}m.Util.warn("Node has no parent. moveUp function is ignored.")},moveDown:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}m.Util.warn("Node has no parent. moveDown function is ignored.")},moveToBottom:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}m.Util.warn("Node has no parent. moveToBottom function is ignored.")},setZIndex:function(t){if(this.parent){var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}m.Util.warn("Node has no parent. zIndex parameter is ignored.")},getAbsoluteOpacity:function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&(this.remove(),t.add(this)),this},toObject:function(){var t,e,n,i,r=m.Util,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],r._isFunction(e)||r._isElement(e)||r._isObject(e)&&r._hasMethods(e)||(n=this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),o},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return n?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache("absoluteTransform",this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,n,i=new m.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),n=t.getTransform(),"all"===e?i.multiply(n):"position"===e&&i.translate(t.x(),t.y())},t),i},getTransform:function(){return this._getCache("transform",this._getTransform)},_getTransform:function(){var t=new m.Transform,e=this.getX(),n=this.getY(),i=m.getAngle(this.getRotation()),r=this.getScaleX(),o=this.getScaleY(),a=this.getSkewX(),s=this.getSkewY(),h=this.getOffsetX(),c=this.getOffsetY();return 0===e&&0===n||t.translate(e,n),0!==i&&t.rotate(i),0===a&&0===s||t.skew(a,s),1===r&&1===o||t.scale(r,o),0===h&&0===c||t.translate(-1*h,-1*c),t},clone:function(t){var e,n,i,r,o,a=this.getClassName(),s=m.Util.cloneObject(this.attrs);for(var h in l)delete s[l[h]];for(e in t)s[e]=t[e];var c=new m[a](s);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,r=0;r<i;r++)(o=n[r]).name.indexOf("kinetic")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(o));return c},toDataURL:function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this.getStage(),r=t.x||0,o=t.y||0,a=new m.SceneCanvas({width:t.width||this.getWidth()||(i?i.getWidth():0),height:t.height||this.getHeight()||(i?i.getHeight():0),pixelRatio:1}),s=a.getContext();return s.save(),(r||o)&&s.translate(-1*r,-1*o),this.drawScene(a),s.restore(),a.toDataURL(e,n)},toImage:function(t){m.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():m.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,i,r=this.eventListeners[t];for(n=0;n<r.length;n++)if(!("kinetic"===(i=r[n].name)&&"kinetic"!==e||e&&i!==e)){if(r.splice(n,1),0===r.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},setId:function(t){var e=this.getId();return m._removeId(e),m._addId(this,t),this._setAttr("id",t),this},setName:function(t){var e=this.getName();return m._removeName(e,this._id),m._addName(this,t),this._setAttr("name",t),this},setAttr:function(t,e){var n=this["set"+m.Util._capitalize(t)];return m.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},_setAttr:function(t,e){var n;void 0!==e&&(n=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))},_fireAndBubble:function(t,e,n){var i=!0;if(e&&this.nodeType===c&&(e.target=this),"mouseenter"===t&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?i=!1:"mouseleave"===t&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(i=!1),i){this._fire(t,e);var r=("mouseenter"===t||"mouseleave"===t)&&(n&&n.isAncestorOf&&n.isAncestorOf(this)||!(!n||!n.isAncestorOf));e&&!e.cancelBubble&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,i=this.eventListeners[t];if(e.type=t,i)for(n=0;n<i.length;n++)i[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),m.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},m.Node._createNode=function(t,e){var n,i,r,o=m.Node.prototype.getClassName.call(t),a=t.children;if(e&&(t.attrs.container=e),n=new m[o](t.attrs),a)for(i=a.length,r=0;r<i;r++)n.add(this._createNode(a[r]));return n},m.Factory.addOverloadedGetterSetter(m.Node,"position"),m.Factory.addGetterSetter(m.Node,"x",0),m.Factory.addGetterSetter(m.Node,"y",0),m.Factory.addGetterSetter(m.Node,"opacity",1),m.Factory.addGetter(m.Node,"name"),m.Factory.addOverloadedGetterSetter(m.Node,"name"),m.Factory.addGetter(m.Node,"id"),m.Factory.addOverloadedGetterSetter(m.Node,"id"),m.Factory.addGetterSetter(m.Node,"rotation",0),m.Factory.addComponentsGetterSetter(m.Node,"scale",["x","y"]),m.Factory.addGetterSetter(m.Node,"scaleX",1),m.Factory.addGetterSetter(m.Node,"scaleY",1),m.Factory.addComponentsGetterSetter(m.Node,"skew",["x","y"]),m.Factory.addGetterSetter(m.Node,"skewX",0),m.Factory.addGetterSetter(m.Node,"skewY",0),m.Factory.addComponentsGetterSetter(m.Node,"offset",["x","y"]),m.Factory.addGetterSetter(m.Node,"offsetX",0),m.Factory.addGetterSetter(m.Node,"offsetY",0),m.Factory.addSetter(m.Node,"dragDistance"),m.Factory.addOverloadedGetterSetter(m.Node,"dragDistance"),m.Factory.addSetter(m.Node,"width",0),m.Factory.addOverloadedGetterSetter(m.Node,"width"),m.Factory.addSetter(m.Node,"height",0),m.Factory.addOverloadedGetterSetter(m.Node,"height"),m.Factory.addGetterSetter(m.Node,"listening","inherit"),m.Factory.addGetterSetter(m.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),m.Factory.addGetterSetter(m.Node,"visible","inherit"),m.Factory.addGetterSetter(m.Node,"transformsEnabled","all"),m.Factory.addOverloadedGetterSetter(m.Node,"size"),m.Factory.backCompat(m.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),m.Collection.mapMethods(m.Node),m.Filters.Grayscale=function(t){var e,n,i=t.data,r=i.length;for(e=0;e<r;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n},m.Filters.Brighten=function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},m.Factory.addGetterSetter(m.Node,"brightness",0,null,m.Factory.afterSetFilter),m.Filters.Invert=function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},function(){function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];m.Filters.Blur=function(i){var r=Math.round(this.blurRadius());r>0&&function(i,r){var o,a,s,h,c,l,u,f,d,p,g,v,y,m,b,_,S,x,C,w,A,F,P,T,k=i.data,D=i.width,O=i.height,G=r+r+1,M=D-1,E=O-1,L=r+1,R=L*(L+1)/2,I=new t,N=null,B=I,U=null,j=null,H=e[r],W=n[r];for(s=1;s<G;s++)B=B.next=new t,s==L&&(N=B);for(B.next=I,u=l=0,a=0;a<O;a++){for(_=S=x=C=f=d=p=g=0,v=L*(w=k[l]),y=L*(A=k[l+1]),m=L*(F=k[l+2]),b=L*(P=k[l+3]),f+=R*w,d+=R*A,p+=R*F,g+=R*P,B=I,s=0;s<L;s++)B.r=w,B.g=A,B.b=F,B.a=P,B=B.next;for(s=1;s<L;s++)h=l+((M<s?M:s)<<2),f+=(B.r=w=k[h])*(T=L-s),d+=(B.g=A=k[h+1])*T,p+=(B.b=F=k[h+2])*T,g+=(B.a=P=k[h+3])*T,_+=w,S+=A,x+=F,C+=P,B=B.next;for(U=I,j=N,o=0;o<D;o++)k[l+3]=P=g*H>>W,0!==P?(P=255/P,k[l]=(f*H>>W)*P,k[l+1]=(d*H>>W)*P,k[l+2]=(p*H>>W)*P):k[l]=k[l+1]=k[l+2]=0,f-=v,d-=y,p-=m,g-=b,v-=U.r,y-=U.g,m-=U.b,b-=U.a,h=u+((h=o+r+1)<M?h:M)<<2,f+=_+=U.r=k[h],d+=S+=U.g=k[h+1],p+=x+=U.b=k[h+2],g+=C+=U.a=k[h+3],U=U.next,v+=w=j.r,y+=A=j.g,m+=F=j.b,b+=P=j.a,_-=w,S-=A,x-=F,C-=P,j=j.next,l+=4;u+=D}for(o=0;o<D;o++){for(S=x=C=_=d=p=g=f=0,v=L*(w=k[l=o<<2]),y=L*(A=k[l+1]),m=L*(F=k[l+2]),b=L*(P=k[l+3]),f+=R*w,d+=R*A,p+=R*F,g+=R*P,B=I,s=0;s<L;s++)B.r=w,B.g=A,B.b=F,B.a=P,B=B.next;for(c=D,s=1;s<=r;s++)l=c+o<<2,f+=(B.r=w=k[l])*(T=L-s),d+=(B.g=A=k[l+1])*T,p+=(B.b=F=k[l+2])*T,g+=(B.a=P=k[l+3])*T,_+=w,S+=A,x+=F,C+=P,B=B.next,s<E&&(c+=D);for(l=o,U=I,j=N,a=0;a<O;a++)k[3+(h=l<<2)]=P=g*H>>W,P>0?(P=255/P,k[h]=(f*H>>W)*P,k[h+1]=(d*H>>W)*P,k[h+2]=(p*H>>W)*P):k[h]=k[h+1]=k[h+2]=0,f-=v,d-=y,p-=m,g-=b,v-=U.r,y-=U.g,m-=U.b,b-=U.a,h=o+((h=a+L)<E?h:E)*D<<2,f+=_+=U.r=k[h],d+=S+=U.g=k[h+1],p+=x+=U.b=k[h+2],g+=C+=U.a=k[h+3],U=U.next,v+=w=j.r,y+=A=j.g,m+=F=j.b,b+=P=j.a,_-=w,S-=A,x-=F,C-=P,j=j.next,l+=D}}(i,r)},m.Factory.addGetterSetter(m.Node,"blurRadius",0,null,m.Factory.afterSetFilter)}(),function(){function t(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}m.Filters.Mask=function(n){var i=function(n,i){var r=t(n,0,0),o=t(n,n.width-1,0),a=t(n,0,n.height-1),s=t(n,n.width-1,n.height-1),h=i||10;if(e(r,o)<h&&e(o,s)<h&&e(s,a)<h&&e(a,r)<h){for(var c=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([o,r,s,a]),l=[],u=0;u<n.width*n.height;u++){var f=e(c,[n.data[4*u],n.data[4*u+1],n.data[4*u+2]]);l[u]=f<h?0:255}return l}}(n,this.threshold());return i&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(n,i=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var h=0;h<e;h++){for(var c=s*e+h,l=0,u=0;u<r;u++)for(var f=0;f<r;f++){var d=s+u-o,p=h+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=i[u*r+f];l+=t[d*e+p]*g}}a[c]=l}return a}(i=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var h=0;h<e;h++){for(var c=s*e+h,l=0,u=0;u<r;u++)for(var f=0;f<r;f++){var d=s+u-o,p=h+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=i[u*r+f];l+=t[d*e+p]*g}}a[c]=l>=1020?255:0}return a}(i=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var h=0;h<e;h++){for(var c=s*e+h,l=0,u=0;u<r;u++)for(var f=0;f<r;f++){var d=s+u-o,p=h+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=i[u*r+f];l+=t[d*e+p]*g}}a[c]=2040===l?255:0}return a}(i,n.width,n.height),n.width,n.height),n.width,n.height)),n},m.Factory.addGetterSetter(m.Node,"threshold",0,null,m.Factory.afterSetFilter)}(),m.Filters.RGB=function(t){var e,n,i=t.data,r=i.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<r;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*o,i[e+1]=n*a,i[e+2]=n*s,i[e+3]=i[e+3]},m.Factory.addGetterSetter(m.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),m.Factory.addGetterSetter(m.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),m.Factory.addGetterSetter(m.Node,"blue",0,m.Validators.RGBComponent,m.Factory.afterSetFilter),m.Filters.HSV=function(t){var e,n,i,r,o,a=t.data,s=a.length,h=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=h*c*Math.cos(l*Math.PI/180),f=h*c*Math.sin(l*Math.PI/180),d=.299*h+.701*u+.167*f,p=.587*h-.587*u+.33*f,g=.114*h-.114*u-.497*f,v=.299*h-.299*u-.328*f,y=.587*h+.413*u+.035*f,m=.114*h-.114*u+.293*f,b=.299*h-.3*u+1.25*f,_=.587*h-.586*u-1.05*f,S=.114*h+.886*u-.2*f;for(e=0;e<s;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],o=a[e+3],a[e+0]=d*n+p*i+g*r,a[e+1]=v*n+y*i+m*r,a[e+2]=b*n+_*i+S*r,a[e+3]=o},m.Factory.addGetterSetter(m.Node,"hue",0,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"saturation",0,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"value",0,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"hue",0,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"saturation",0,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"luminance",0,null,m.Factory.afterSetFilter),m.Filters.HSL=function(t){var e,n,i,r,o,a=t.data,s=a.length,h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,l=127*this.luminance(),u=1*h*Math.cos(c*Math.PI/180),f=1*h*Math.sin(c*Math.PI/180),d=.299+.701*u+.167*f,p=.587-.587*u+.33*f,g=.114-.114*u-.497*f,v=.299-.299*u-.328*f,y=.587+.413*u+.035*f,m=.114-.114*u+.293*f,b=.299-.3*u+1.25*f,_=.587-.586*u-1.05*f,S=.114+.886*u-.2*f;for(e=0;e<s;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],o=a[e+3],a[e+0]=d*n+p*i+g*r+l,a[e+1]=v*n+y*i+m*r+l,a[e+2]=b*n+_*i+S*r+l,a[e+3]=o},m.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),o=0,a=0,s=t.data,h=t.width,c=t.height,l=4*h,u=c;switch(i){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1}do{var f=(u-1)*l,d=o;u+d<1&&(d=0),u+d>c&&(d=0);var p=(u-1+d)*h*4,g=h;do{var v=f+4*(g-1),y=a;g+y<1&&(y=0),g+y>h&&(y=0);var m=p+4*(g-1+y),b=s[v]-s[m],_=s[v+1]-s[m+1],S=s[v+2]-s[m+2],x=b,C=x>0?x:-x;if((_>0?_:-_)>C&&(x=_),(S>0?S:-S)>C&&(x=S),x*=e,r){var w=s[v]+x,A=s[v+1]+x,F=s[v+2]+x;s[v]=w>255?255:w<0?0:w,s[v+1]=A>255?255:A<0?0:A,s[v+2]=F>255?255:F<0?0:F}else{var P=n-x;P<0?P=0:P>255&&(P=255),s[v]=s[v+1]=s[v+2]=P}}while(--g)}while(--u)},m.Factory.addGetterSetter(m.Node,"embossStrength",.5,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"embossWhiteLevel",.5,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"embossDirection","top-left",null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"embossBlend",!1,null,m.Factory.afterSetFilter),function(){function t(t,e,n,i,r){var o=n-e,a=r-i;return 0===o?i+a/2:0===a?i:a*((t-e)/o)+i}m.Filters.Enhance=function(e){var n,i,r,o,a=e.data,s=a.length,h=a[0],c=h,l=a[1],u=l,f=a[2],d=f,p=this.enhance();if(0!==p){for(o=0;o<s;o+=4)(n=a[o+0])<h?h=n:n>c&&(c=n),(i=a[o+1])<l?l=i:i>u&&(u=i),(r=a[o+2])<f?f=r:r>d&&(d=r);var g,v,y,m,b,_,S,x,C;for(c===h&&(c=255,h=0),u===l&&(u=255,l=0),d===f&&(d=255,f=0),p>0?(v=c+p*(255-c),y=h-p*(h-0),b=u+p*(255-u),_=l-p*(l-0),x=d+p*(255-d),C=f-p*(f-0)):(v=c+p*(c-(g=.5*(c+h))),y=h+p*(h-g),b=u+p*(u-(m=.5*(u+l))),_=l+p*(l-m),x=d+p*(d-(S=.5*(d+f))),C=f+p*(f-S)),o=0;o<s;o+=4)a[o+0]=t(a[o+0],h,c,y,v),a[o+1]=t(a[o+1],l,u,_,b),a[o+2]=t(a[o+2],f,d,C,x)}},m.Factory.addGetterSetter(m.Node,"enhance",0,null,m.Factory.afterSetFilter)}(),m.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,o=255/n;for(e=0;e<r;e+=1)i[e]=Math.floor(i[e]/o)*o},m.Factory.addGetterSetter(m.Node,"levels",.5,null,m.Factory.afterSetFilter),m.Filters.Noise=function(t){var e,n=255*this.noise(),i=t.data,r=i.length,o=n/2;for(e=0;e<r;e+=4)i[e+0]+=o-2*o*Math.random(),i[e+1]+=o-2*o*Math.random(),i[e+2]+=o-2*o*Math.random()},m.Factory.addGetterSetter(m.Node,"noise",.2,null,m.Factory.afterSetFilter),m.Filters.Pixelate=function(t){var e,n,i,r,o,a,s,h,c,l,u,f,d,p,g=Math.ceil(this.pixelSize()),v=t.width,y=t.height,m=Math.ceil(v/g),b=Math.ceil(y/g);for(t=t.data,f=0;f<m;f+=1)for(d=0;d<b;d+=1){for(r=0,o=0,a=0,s=0,c=(h=f*g)+g,u=(l=d*g)+g,p=0,e=h;e<c;e+=1)if(!(e>=v))for(n=l;n<u;n+=1)n>=y||(r+=t[0+(i=4*(v*n+e))],o+=t[i+1],a+=t[i+2],s+=t[i+3],p+=1);for(r/=p,o/=p,a/=p,e=h;e<c;e+=1)if(!(e>=v))for(n=l;n<u;n+=1)n>=y||(t[0+(i=4*(v*n+e))]=r,t[i+1]=o,t[i+2]=a,t[i+3]=s)}},m.Factory.addGetterSetter(m.Node,"pixelSize",8,null,m.Factory.afterSetFilter),m.Filters.Threshold=function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;e<r;e+=1)i[e]=i[e]<n?0:255},m.Factory.addGetterSetter(m.Node,"threshold",.5,null,m.Factory.afterSetFilter),
/**
     * Sepia Filter
     * Based on: Pixastic Lib - Sepia filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * @function
     * @name Sepia
     * @memberof Kinetic.Filters
     * @param {Object} imageData
     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
     * @example
     * node.cache();
     * node.filters([Kinetic.Filters.Sepia]);
     */
m.Filters.Sepia=function(t){var e,n,i,r,o,a,s,h,c,l=t.data,u=t.width,f=t.height,d=4*u;do{e=(f-1)*d,n=u;do{s=.393*(r=l[i=e+4*(n-1)])+.769*(o=l[i+1])+.189*(a=l[i+2]),h=.349*r+.686*o+.168*a,c=.272*r+.534*o+.131*a,l[i]=s>255?255:s,l[i+1]=h>255?255:h,l[i+2]=c>255?255:c,l[i+3]=l[i+3]}while(--n)}while(--f)},m.Filters.Solarize=function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var o=(r-1)*i,a=n;do{var s=o+4*(a-1),h=e[s],c=e[s+1],l=e[s+2];h>127&&(h=255-h),c>127&&(c=255-c),l>127&&(l=255-l),e[s]=h,e[s+1]=c,e[s+2]=l}while(--a)}while(--r)},f=m.Util.createCanvasElement(),m.Filters.Kaleidoscope=function(t){var e,n,i,r,o,a,s,h,c,l=t.width,u=t.height,d=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(l*(p%360)/360);if(!(d<1)){f.width=l,f.height=u;var v=f.getContext("2d").getImageData(0,0,l,u);!function(t,e,n){var i,r,o,a,s=t.data,h=e.data,c=t.width,l=t.height,u=n.polarCenterX||c/2,f=n.polarCenterY||l/2,d=0,p=0,g=0,v=0,y=Math.sqrt(u*u+f*f);r=c-u,o=l-f,y=(a=Math.sqrt(r*r+o*o))>y?a:y;var m,b,_,S,x=l,C=c,w=360/C*Math.PI/180;for(b=0;b<C;b+=1)for(_=Math.sin(b*w),S=Math.cos(b*w),m=0;m<x;m+=1)r=Math.floor(u+y*m/x*S),d=s[0+(i=4*((o=Math.floor(f+y*m/x*_))*c+r))],p=s[i+1],g=s[i+2],v=s[i+3],h[0+(i=4*(b+m*c))]=d,h[i+1]=p,h[i+2]=g,h[i+3]=v}(t,v,{polarCenterX:l/2,polarCenterY:u/2});for(var y=l/Math.pow(2,d);y<=8;)y*=2,d-=1;var m=y=Math.ceil(y),b=0,_=m,S=1;for(g+y>l&&(b=m,_=0,S=-1),n=0;n<u;n+=1)for(e=b;e!==_;e+=S)h=4*(l*n+Math.round(e+g)%l),r=v.data[h+0],o=v.data[h+1],a=v.data[h+2],s=v.data[h+3],c=4*(l*n+e),v.data[c+0]=r,v.data[c+1]=o,v.data[c+2]=a,v.data[c+3]=s;for(n=0;n<u;n+=1)for(m=Math.floor(y),i=0;i<d;i+=1){for(e=0;e<m+1;e+=1)h=4*(l*n+e),r=v.data[h+0],o=v.data[h+1],a=v.data[h+2],s=v.data[h+3],c=4*(l*n+2*m-e-1),v.data[c+0]=r,v.data[c+1]=o,v.data[c+2]=a,v.data[c+3]=s;m*=2}!function(t,e,n){var i,r,o,a,s,h,c=t.data,l=e.data,u=t.width,f=t.height,d=n.polarCenterX||u/2,p=n.polarCenterY||f/2,g=0,v=0,y=0,m=0,b=Math.sqrt(d*d+p*p);r=u-d,o=f-p,b=(h=Math.sqrt(r*r+o*o))>b?h:b;var _,S,x,C=f,w=u,A=n.polarRotation||0;for(r=0;r<u;r+=1)for(o=0;o<f;o+=1)a=r-d,s=o-p,_=Math.sqrt(a*a+s*s)*C/b,S=(S=(180*Math.atan2(s,a)/Math.PI+360+A)%360)*w/360,x=Math.floor(S),g=c[0+(i=4*(Math.floor(_)*u+x))],v=c[i+1],y=c[i+2],m=c[i+3],l[0+(i=4*(o*u+r))]=g,l[i+1]=v,l[i+2]=y,l[i+3]=m}(v,t,{polarRotation:0})}},m.Factory.addGetterSetter(m.Node,"kaleidoscopePower",2,null,m.Factory.afterSetFilter),m.Factory.addGetterSetter(m.Node,"kaleidoscopeAngle",0,null,m.Factory.afterSetFilter),function(){var t=m.root.performance&&m.root.performance.now?function(){return m.root.performance.now()}:function(){return(new Date).getTime()},e=m.root.requestAnimationFrame||m.root.webkitRequestAnimationFrame||m.root.mozRequestAnimationFrame||m.root.oRequestAnimationFrame||m.root.msRequestAnimationFrame||n;function n(t){setTimeout(t,1e3/60)}m.Animation=function(e,n){var i=m.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t()}},m.Animation.prototype={setLayers:function(t){var e=[];e=t?t.length>0?t:[t]:[],this.layers=e},getLayers:function(){return this.layers},addLayer:function(t){var e,n,i=this.layers;if(i){for(e=i.length,n=0;n<e;n++)if(i[n]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){var t,e=m.Animation.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1},start:function(){var e=m.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),e._addAnimation(this)},stop:function(){m.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},m.Animation.animations=[],m.Animation.animIdCounter=0,m.Animation.animRunning=!1,m.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},m.Animation._removeAnimation=function(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===n){this.animations.splice(e,1);break}},m.Animation._runFrames=function(){var e,n,i,r,o,a,s,h,c={},l=this.animations;for(r=0;r<l.length;r++)if(n=(e=l[r]).layers,i=e.func,e._updateFrameObject(t()),a=n.length,!i||!1!==i.call(e,e.frame))for(o=0;o<a;o++)void 0!==(s=n[o])._id&&(c[s._id]=s);for(h in c)c[h].draw()},m.Animation._animationLoop=function(){var t=m.Animation;t.animations.length?(!function(){e.apply(m.root,arguments)}(t._animationLoop),t._runFrames()):t.animRunning=!1},m.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())};var i=m.Node.prototype.moveTo;m.Node.prototype.moveTo=function(t){i.call(this,t)},m.BaseLayer.prototype.batchDraw=function(){var e=this,n=m.Animation;this.batchAnim||(this.batchAnim=new n(function(){e.lastBatchDrawTime&&t()-e.lastBatchDrawTime>500&&e.batchAnim.stop()},this)),this.lastBatchDrawTime=t(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},m.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})}}(),function(){var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=0;m.Tween=function(i){var r,o,a=this,s=i.node,h=s._id,c=i.easing||m.Easings.Linear,l=!!i.yoyo;for(o in r=void 0===i.duration?1:0===i.duration?.001:i.duration,this.node=s,this._id=e++,this.anim=new m.Animation(function(){a.tween.onEnterFrame()},s.getLayer()||(s instanceof m.Stage?s.getLayers():null)),this.tween=new n(o,function(t){a._tweenFunc(t)},c,0,1,1e3*r,l),this._addListeners(),m.Tween.attrs[h]||(m.Tween.attrs[h]={}),m.Tween.attrs[h][this._id]||(m.Tween.attrs[h][this._id]={}),m.Tween.tweens[h]||(m.Tween.tweens[h]={}),i)void 0===t[o]&&this._addAttr(o,i[o]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset},m.Tween.attrs={},m.Tween.tweens={},m.Tween.prototype={_addAttr:function(t,e){var n,i,r,o,a,s=this.node,h=s._id;if((r=m.Tween.tweens[h][t])&&delete m.Tween.attrs[h][r][t],n=s.getAttr(t),m.Util._isArray(e))for(i=[],a=e.length,o=0;o<a;o++)i.push(e[o]-n[o]);else i=e-n;m.Tween.attrs[h][this._id][t]={start:n,diff:i},m.Tween.tweens[h][t]=this._id},_tweenFunc:function(t){var e,n,i,r,o,a,s,h=this.node,c=m.Tween.attrs[h._id][this._id];for(e in c){if(i=(n=c[e]).start,r=n.diff,m.Util._isArray(i))for(o=[],s=i.length,a=0;a<s;a++)o.push(i[a]+r[a]*t);else o=i+r*t;h.setAttr(e,o)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,i=m.Tween.tweens[e];for(t in this.pause(),i)delete m.Tween.tweens[e][t];delete m.Tween.attrs[e][n]}};var n=function(t,e,n,i,r,o,a){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()};n.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},m.Easings={BackEaseIn:function(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut:function(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut:function(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:2==(t/=i/2)?e+n:(o||(o=i*(.3*1.5)),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,i){return n-m.Easings.BounceEaseOut(i-t,0,n,i)+e},BounceEaseInOut:function(t,e,n,i){return t<i/2?.5*m.Easings.BounceEaseIn(2*t,0,n,i)+e:.5*m.Easings.BounceEaseOut(2*t-i,0,n,i)+.5*n+e},EaseIn:function(t,e,n,i){return n*(t/=i)*t+e},EaseOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},EaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},StrongEaseOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,i){return n*t/i+e}}}(),function(){m.DD={anim:new m.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=m.DD,n=e.node;if(n){if(!e.isDragging){var i=n.getStage().getPointerPosition(),r=n.dragDistance();if(Math.max(Math.abs(i.x-e.startPointerPos.x),Math.abs(i.y-e.startPointerPos.y))<r)return}n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=m.DD,i=n.node;i&&(i.nodeType,e=i.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,m.listenClickTap=!1,t&&(t.dragEndNode=i)),delete n.node,(e||i).draw())},_endDragAfter:function(t){var e=(t=t||{}).dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},m.Node.prototype.startDrag=function(){var t=m.DD,e=this.getStage(),n=this.getLayer(),i=e.getPointerPosition(),r=this.getAbsolutePosition();i&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=i,t.offset.x=i.x-r.x,t.offset.y=i.y-r.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},m.Node.prototype._setDragPosition=function(t){var e=m.DD,n=this.getStage().getPointerPosition(),i=this.getDragBoundFunc();if(n){var r={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==i&&(r=i.call(this,r,t)),this.setAbsolutePosition(r),this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(e.anim.dirty=!0),this._lastPos=r}},m.Node.prototype.stopDrag=function(){var t=m.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},m.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=m.Node.prototype.destroy;m.Node.prototype.destroy=function(){var e=m.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},m.Node.prototype.isDragging=function(){var t=m.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},m.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(e){m.DD.node||t.startDrag(e)}):this.on("mousedown.kinetic touchstart.kinetic",function(e){1!==e.evt.button&&2!==e.evt.button&&(m.DD.node||t.startDrag(e))})},m.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=m.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},m.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},m.Factory.addGetterSetter(m.Node,"dragBoundFunc"),m.Factory.addGetter(m.Node,"draggable",!1),m.Factory.addOverloadedGetterSetter(m.Node,"draggable");var e=m.document.documentElement;e.addEventListener("mouseup",m.DD._endDragBefore,!0),e.addEventListener("touchend",m.DD._endDragBefore,!0),e.addEventListener("mouseup",m.DD._endDragAfter,!1),e.addEventListener("touchend",m.DD._endDragAfter,!1)}(),m.Util.addMethods(m.Container,{__init:function(t){this.children=new m.Collection,m.Node.call(this,t)},getChildren:function(t){if(t){var e=new m.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e}return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=m.Collection.toCollection(this.children),n=0;n<e.length;n++)delete(t=e[n]).parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new m.Collection,this},destroyChildren:function(){for(var t,e=m.Collection.toCollection(this.children),n=0;n<e.length;n++)delete(t=e[n]).parent,t.index=0,t.destroy();return e=null,this.children=new m.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),t.isDragging()&&m.DD.anim.setLayers(t.getLayer()),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),m.Node.prototype.destroy.call(this)},find:function(t){var e,n,i,r,o,a,s,h=[],c=t.replace(/ /g,"").split(","),l=c.length;for(e=0;e<l;e++)if("#"===(i=c[e]).charAt(0))(o=this._getNodeById(i.slice(1)))&&h.push(o);else if("."===i.charAt(0))r=this._getNodesByName(i.slice(1)),h=h.concat(r);else for(s=(a=this.getChildren()).length,n=0;n<s;n++)h=h.concat(a[n]._get(i));return m.Collection.toCollection(h)},_getNodeById:function(t){var e=m.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=m.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=m.Node.prototype._get.call(this,t),n=this.getChildren(),i=n.length,r=0;r<i;r++)e=e.concat(n[r]._get(t));return e},toObject:function(){var t=m.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,i=0;i<n;i++){var r=e[i];t.children.push(r.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,i=0;i<n;i++){var r=t[i];this.isAncestorOf(r)&&e.push(r)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=m.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),o=this._cache.canvas,a=o&&o.scene;return this.isVisible()&&(a?this._drawCachedSceneCanvas(r):this._drawChildren(i,"drawScene",e)),this},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),o=this._cache.canvas,a=o&&o.hit;return this.shouldDrawHit(i)&&(n&&n.clearHitCache(),a?this._drawCachedHitCanvas(r):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n){var i,r,o=this.getLayer(),a=t&&t.getContext(),s=this.getClipWidth(),h=this.getClipHeight(),c=s&&h;c&&o&&(i=this.getClipX(),r=this.getClipY(),a.save(),o._applyTransform(this,a),a.beginPath(),a.rect(i,r,s,h),a.clip(),a.reset()),this.children.each(function(i){i[e](t,n)}),c&&a.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=m.DD&&m.isDragging()&&-1!==m.DD.anim.getLayers().indexOf(e);return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!n}}),m.Util.extend(m.Container,m.Node),m.Container.prototype.get=m.Container.prototype.find,m.Factory.addComponentsGetterSetter(m.Container,"clip",["x","y","width","height"]),m.Factory.addGetterSetter(m.Container,"clipX"),m.Factory.addGetterSetter(m.Container,"clipY"),m.Factory.addGetterSetter(m.Container,"clipWidth"),m.Factory.addGetterSetter(m.Container,"clipHeight"),m.Collection.mapMethods(m.Container),function(){var t="hasShadow";function e(t){t.fill()}function n(t){t.stroke()}function i(t){t.fill()}function r(t){t.stroke()}function o(){this._clearCache(t)}m.Util.addMethods(m.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=n,this._fillFuncHit=i,this._strokeFuncHit=r;for(var a,s=m.shapes;!(a=m.Util.getRandomColor())||a in s;);this.colorKey=a,s[a]=this,m.Node.call(this,t),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",o)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(t,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},intersects:function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawScene(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},destroy:function(){m.Node.prototype.destroy.call(this),delete m.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var n,i,r=this.getLayer(),o=t||r.getCanvas(),a=o.getContext(),s=this._cache.canvas,h=this.sceneFunc(),c=this.hasShadow();if(this.isVisible())if(s)this._drawCachedSceneCanvas(a);else if(h){if(a.save(),this._useBufferCanvas()){if((i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this),r)r._applyTransform(this,i,e);else{var l=this.getAbsoluteTransform(e).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5])}h.call(this,i),i.restore(),c&&!o.hitCanvas&&(a.save(),a._applyShadow(this),a.drawImage(n._canvas,0,0),a.restore()),a._applyOpacity(this),a.drawImage(n._canvas,0,0)}else{if(a._applyLineJoin(this),r)r._applyTransform(this,a,e);else{var u=this.getAbsoluteTransform(e).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5])}c&&!o.hitCanvas&&(a.save(),a._applyShadow(this),h.call(this,a),a.restore()),a._applyOpacity(this),h.call(this,a)}a.restore()}return this},drawHit:function(t,e){var n=this.getLayer(),i=t||n.hitCanvas,r=i.getContext(),o=this.hitFunc()||this.sceneFunc(),a=this._cache.canvas,s=a&&a.hit;if(this.shouldDrawHit(i))if(n&&n.clearHitCache(),s)this._drawCachedHitCanvas(r);else if(o){if(r.save(),r._applyLineJoin(this),n)n._applyTransform(this,r,e);else{var h=this.getAbsoluteTransform(e).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}o.call(this,r),r.restore()}return this},drawHitFromCache:function(t){var e,n,i,r,o,a,s=t||0,h=this._cache.canvas,c=this._getCachedSceneCanvas(),l=c.getContext(),u=h.hit.getContext(),f=c.getWidth(),d=c.getHeight();u.clear();try{for(e=l.getImageData(0,0,f,d).data,i=(n=u.getImageData(0,0,f,d)).data,r=e.length,o=m.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)e[a+3]>s&&(i[a]=o.r,i[a+1]=o.g,i[a+2]=o.b,i[a+3]=255);u.putImageData(n,0,0)}catch(t){m.Util.warn("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),m.Util.extend(m.Shape,m.Node),m.Factory.addGetterSetter(m.Shape,"stroke"),m.Factory.addGetterSetter(m.Shape,"strokeRed",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"strokeGreen",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"strokeBlue",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"strokeAlpha",1,m.Validators.alphaComponent),m.Factory.addGetterSetter(m.Shape,"strokeWidth",2),m.Factory.addGetterSetter(m.Shape,"lineJoin"),m.Factory.addGetterSetter(m.Shape,"lineCap"),m.Factory.addGetterSetter(m.Shape,"sceneFunc"),m.Factory.addGetterSetter(m.Shape,"hitFunc"),m.Factory.addGetterSetter(m.Shape,"dash"),m.Factory.addGetterSetter(m.Shape,"shadowColor"),m.Factory.addGetterSetter(m.Shape,"shadowRed",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"shadowGreen",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"shadowBlue",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"shadowAlpha",1,m.Validators.alphaComponent),m.Factory.addGetterSetter(m.Shape,"shadowBlur"),m.Factory.addGetterSetter(m.Shape,"shadowOpacity"),m.Factory.addComponentsGetterSetter(m.Shape,"shadowOffset",["x","y"]),m.Factory.addGetterSetter(m.Shape,"shadowOffsetX",0),m.Factory.addGetterSetter(m.Shape,"shadowOffsetY",0),m.Factory.addGetterSetter(m.Shape,"fillPatternImage"),m.Factory.addGetterSetter(m.Shape,"fill"),m.Factory.addGetterSetter(m.Shape,"fillRed",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"fillGreen",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"fillBlue",0,m.Validators.RGBComponent),m.Factory.addGetterSetter(m.Shape,"fillAlpha",1,m.Validators.alphaComponent),m.Factory.addGetterSetter(m.Shape,"fillPatternX",0),m.Factory.addGetterSetter(m.Shape,"fillPatternY",0),m.Factory.addGetterSetter(m.Shape,"fillLinearGradientColorStops"),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientStartRadius",0),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientEndRadius",0),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientColorStops"),m.Factory.addGetterSetter(m.Shape,"fillPatternRepeat","repeat"),m.Factory.addGetterSetter(m.Shape,"fillEnabled",!0),m.Factory.addGetterSetter(m.Shape,"strokeEnabled",!0),m.Factory.addGetterSetter(m.Shape,"shadowEnabled",!0),m.Factory.addGetterSetter(m.Shape,"dashEnabled",!0),m.Factory.addGetterSetter(m.Shape,"strokeScaleEnabled",!0),m.Factory.addGetterSetter(m.Shape,"fillPriority","color"),m.Factory.addComponentsGetterSetter(m.Shape,"fillPatternOffset",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillPatternOffsetX",0),m.Factory.addGetterSetter(m.Shape,"fillPatternOffsetY",0),m.Factory.addComponentsGetterSetter(m.Shape,"fillPatternScale",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillPatternScaleX",1),m.Factory.addGetterSetter(m.Shape,"fillPatternScaleY",1),m.Factory.addComponentsGetterSetter(m.Shape,"fillLinearGradientStartPoint",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillLinearGradientStartPointX",0),m.Factory.addGetterSetter(m.Shape,"fillLinearGradientStartPointY",0),m.Factory.addComponentsGetterSetter(m.Shape,"fillLinearGradientEndPoint",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillLinearGradientEndPointX",0),m.Factory.addGetterSetter(m.Shape,"fillLinearGradientEndPointY",0),m.Factory.addComponentsGetterSetter(m.Shape,"fillRadialGradientStartPoint",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientStartPointX",0),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientStartPointY",0),m.Factory.addComponentsGetterSetter(m.Shape,"fillRadialGradientEndPoint",["x","y"]),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientEndPointX",0),m.Factory.addGetterSetter(m.Shape,"fillRadialGradientEndPointY",0),m.Factory.addGetterSetter(m.Shape,"fillPatternRotation",0),m.Factory.backCompat(m.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),m.Collection.mapMethods(m.Shape)}(),function(){var t="_",e=["mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","DOMMouseScroll","mousewheel","wheel"],n=e.length;function i(e,n){e.content.addEventListener(n,function(i){e[t+n](i)},!1)}m.Util.addMethods(m.Stage,{___init:function(t){this.nodeType="Stage",m.Container.call(this,t),this._id=m.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,m.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&m.Util.error("You may only add layers to the stage.")},setContainer:function(t){if("string"==typeof t){var e=t;if(!(t=m.document.getElementById(t)))throw"Can not find container in document with id "+e}return this._setAttr("container",t),this},shouldDrawHit:function(){return!0},draw:function(){return m.Node.prototype.draw.call(this),this},setHeight:function(t){return m.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return m.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=m.document.createElement("div"),m.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;m.Container.prototype.destroy.call(this),t&&m.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=m.stages.indexOf(this);e>-1&&m.stages.splice(e,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=t.x||0,r=t.y||0,o=new m.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:1}),a=o.getContext()._context,s=this.children;(i||r)&&a.translate(-1*i,-1*r),function i(r){var h=s[r].toDataURL(),c=new m.window.Image;c.onload=function(){a.drawImage(c,0,0),r<s.length-1?i(r+1):t.callback(o.toDataURL(e,n))},c.src=h}(0)},toImage:function(t){var e=t.callback;t.callback=function(t){m.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){var e,n,i=this.getChildren();for(e=i.length-1;e>=0;e--)if(n=i[e].getIntersection(t))return n;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),o=r.length;for(this.content.style.width=n+"px",this.content.style.height=i+"px",this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<o;t++)(e=r[t]).setSize(n,i),e.draw()}},add:function(t){if(!(arguments.length>1))return m.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var t=0;t<n;t++)i(this,e[t])},_mouseover:function(t){m.UA.mobile||(this._setPointerPosition(t),this._fire("contentMouseover",{evt:t}))},_mouseout:function(t){if(!m.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!m.isDragging()&&(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:t})}},_mousemove:function(t){if(m.UA.ieMobile)return this._touchmove(t);if((void 0===t.webkitMovementX&&void 0===t.webkitMovementY||0!==t.webkitMovementY||0!==t.webkitMovementX)&&!m.UA.mobile){this._setPointerPosition(t);var e,n=m.DD;m.isDragging()||((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()?m.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble("mousemove",{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t},e),this.targetShape._fireAndBubble("mouseleave",{evt:t},e)),e._fireAndBubble("mouseover",{evt:t},this.targetShape),e._fireAndBubble("mouseenter",{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!m.isDragging()&&(this.targetShape._fireAndBubble("mouseout",{evt:t}),this.targetShape._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null),this._fire("contentMousemove",{evt:t})),n&&n._drag(t),t.preventDefault&&t.preventDefault()}},_mousedown:function(t){if(m.UA.ieMobile)return this._touchstart(t);if(!m.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());m.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble("mousedown",{evt:t})),this._fire("contentMousedown",{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(m.UA.ieMobile)return this._touchend(t);if(!m.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,i=!1,r=m.DD;m.inDblClickWindow?(i=!0,m.inDblClickWindow=!1):r&&r.justDragged?r&&(r.justDragged=!1):m.inDblClickWindow=!0,setTimeout(function(){m.inDblClickWindow=!1},m.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("mouseup",{evt:t}),m.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble("click",{evt:t}),i&&e._fireAndBubble("dblclick",{evt:t}))),this._fire("contentMouseup",{evt:t}),m.listenClickTap&&(this._fire("contentClick",{evt:t}),i&&this._fire("contentDblclick",{evt:t})),m.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());m.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble("touchstart",{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchstart",{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;m.inDblClickWindow?(n=!0,m.inDblClickWindow=!1):m.inDblClickWindow=!0,setTimeout(function(){m.inDblClickWindow=!1},m.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("touchend",{evt:t}),m.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble("tap",{evt:t}),n&&e._fireAndBubble("dbltap",{evt:t})),e.isListening()&&t.preventDefault&&t.preventDefault()),m.listenClickTap&&(this._fire("contentTouchend",{evt:t}),n&&this._fire("contentDbltap",{evt:t})),m.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=m.DD;m.isDragging()||((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()&&(e._fireAndBubble("touchmove",{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchmove",{evt:t})),n&&(n._drag(t),m.isDragging()&&t.preventDefault())},_DOMMouseScroll:function(t){this._mousewheel(t)},_mousewheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble("mousewheel",{evt:t})},_wheel:function(t){this._mousewheel(t)},_setPointerPosition:function(t){var e,n=this._getContentPosition(),i=t.offsetX,r=t.clientX,o=null,a=null;void 0!==(t=t||window.event).touches?t.touches.length>0&&(o=(e=t.touches[0]).clientX-n.left,a=e.clientY-n.top):void 0!==i?(o=i,a=t.offsetY):"mozilla"===m.UA.browser?(o=t.layerX,a=t.layerY):void 0!==r&&n&&(o=r-n.left,a=t.clientY-n.top),null!==o&&null!==a&&(this.pointerPos={x:o,y:a})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(m.Util.isBrowser())throw"Stage has no container. A container is required.";t=m.document.createElement("div")}t.innerHTML="",this.content=m.document.createElement("div"),this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new m.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new m.HitCanvas,this._resizeDOM()},_onContent:function(t,e){var n,i,r=t.split(" "),o=r.length;for(n=0;n<o;n++)i=r[n],this.content.addEventListener(i,e,!1)},cache:function(){m.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),m.Util.extend(m.Stage,m.Container),m.Factory.addGetter(m.Stage,"container"),m.Factory.addOverloadedGetterSetter(m.Stage,"container")}(),m.Util.addMethods(m.BaseLayer,{___init:function(t){this.nodeType="Layer",m.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){m.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){m.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(m.Node.prototype.moveUp.call(this)){var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(m.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(m.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return m.Node.prototype.remove.call(this),t&&t.parentNode&&m.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){this.canvas.setSize(t,e)},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){m.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){m.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}}),m.Util.extend(m.BaseLayer,m.Container),m.Factory.addGetterSetter(m.BaseLayer,"clearBeforeDraw",!0),m.Collection.mapMethods(m.BaseLayer),p=(d=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}]).length,m.Util.addMethods(m.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new m.SceneCanvas,this.hitCanvas=new m.HitCanvas,m.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&m.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(t){var e,n,i,r;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var o=1,a=!1;;){for(n=0;n<p;n++){if(i=d[n],r=(e=this._getIntersection({x:t.x+i.x*o,y:t.y+i.y*o})).shape)return r;e.antialiased&&(a=!0)}if(!a)return;o+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,i=this.hitCanvas.height||1,r=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,i)),[this._hitImageData.data[4*r+0],this._hitImageData.data[4*r+1],this._hitImageData.data[4*r+2],this._hitImageData.data[4*r+3]]},_getIntersection:function(t){var e,n=this.hitCanvas.context.getImageData(t.x,t.y,1,1).data,i=n[3];return 255===i?(e=m.Util._rgbToHex(n[0],n[1],n[2]),{shape:m.shapes["#"+e]}):i>0?{antialiased:!0}:{}},drawScene:function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&i.getContext().clear(),m.Container.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this},_applyTransform:function(t,e,n){var i=t.getAbsoluteTransform(n).getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),m.Container.prototype.drawHit.call(this,i,e),this.imageData=null,this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return m.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(t,e){m.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e)}}),m.Util.extend(m.Layer,m.BaseLayer),m.Factory.addGetterSetter(m.Layer,"hitGraphEnabled",!0),m.Collection.mapMethods(m.Layer),m.Util.addMethods(m.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new m.SceneCanvas,m.BaseLayer.call(this,t)},_validateAdd:function(t){"Shape"!==t.getType()&&m.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),m.Container.prototype.drawScene.call(this,n),this},_applyTransform:function(t,e,n){if(!n||n._id!==this._id){var i=t.getTransform().getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return m.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),m.Util.extend(m.FastLayer,m.BaseLayer),m.Collection.mapMethods(m.FastLayer),m.Util.addMethods(m.Group,{___init:function(t){this.nodeType="Group",m.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&m.Util.error("You may only add groups and shapes to groups.")}}),m.Util.extend(m.Group,m.Container),m.Collection.mapMethods(m.Group),m.Rect=function(t){this.___init(t)},m.Rect.prototype={___init:function(t){m.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),i=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,i-e),t.arc(n-e,i-e,e,0,Math.PI/2,!1),t.lineTo(e,i),t.arc(e,i-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.Rect,m.Shape),m.Factory.addGetterSetter(m.Rect,"cornerRadius",0),m.Collection.mapMethods(m.Rect),g=2*Math.PI-1e-4,m.Circle=function(t){this.___init(t)},m.Circle.prototype={___init:function(t){m.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,g,!1),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){m.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){m.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setRadius:function(t){this._setAttr("radius",t),this.setWidth(2*t),this.setHeight(2*t)}},m.Util.extend(m.Circle,m.Shape),m.Factory.addGetter(m.Circle,"radius",0),m.Factory.addOverloadedGetterSetter(m.Circle,"radius"),m.Collection.mapMethods(m.Circle),function(){var t=2*Math.PI-1e-4;m.Ellipse=function(t){this.___init(t)},m.Ellipse.prototype={___init:function(t){m.Shape.call(this,t),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),i=this.getRadiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){m.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){m.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},m.Util.extend(m.Ellipse,m.Shape),m.Factory.addComponentsGetterSetter(m.Ellipse,"radius",["x","y"]),m.Factory.addGetterSetter(m.Ellipse,"radiusX",0),m.Factory.addGetterSetter(m.Ellipse,"radiusY",0),m.Collection.mapMethods(m.Ellipse)}(),function(){var t=2*Math.PI-1e-4;m.Ring=function(t){this.___init(t)},m.Ring.prototype={___init:function(t){m.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){m.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){m.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},m.Util.extend(m.Ring,m.Shape),m.Factory.addGetterSetter(m.Ring,"innerRadius",0),m.Factory.addGetter(m.Ring,"outerRadius",0),m.Factory.addOverloadedGetterSetter(m.Ring,"outerRadius"),m.Collection.mapMethods(m.Ring)}(),m.Wedge=function(t){this.___init(t)},m.Wedge.prototype={___init:function(t){m.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,m.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.Wedge,m.Shape),m.Factory.addGetterSetter(m.Wedge,"radius",0),m.Factory.addGetterSetter(m.Wedge,"angle",0),m.Factory.addGetterSetter(m.Wedge,"clockwise",!1),m.Factory.backCompat(m.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),m.Collection.mapMethods(m.Wedge),m.Arc=function(t){this.___init(t)},m.Arc.prototype={___init:function(t){m.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=m.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.Arc,m.Shape),m.Factory.addGetterSetter(m.Arc,"innerRadius",0),m.Factory.addGetterSetter(m.Arc,"outerRadius",0),m.Factory.addGetterSetter(m.Arc,"angle",0),m.Factory.addGetterSetter(m.Arc,"clockwise",!1),m.Collection.mapMethods(m.Arc),m.Image=function(t){this.___init(t)},m.Image.prototype={___init:function(t){m.Shape.call(this,t),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,i,r=this.getWidth(),o=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),i=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,r,o]:[a,0,0,r,o]),(this.hasFill()||this.hasStroke()||this.hasShadow())&&(t.beginPath(),t.rect(0,0,r,o),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,i)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},m.Util.extend(m.Image,m.Shape),m.Factory.addGetterSetter(m.Image,"image"),m.Factory.addComponentsGetterSetter(m.Image,"crop",["x","y","width","height"]),m.Factory.addGetterSetter(m.Image,"cropX",0),m.Factory.addGetterSetter(m.Image,"cropY",0),m.Factory.addGetterSetter(m.Image,"cropWidth",0),m.Factory.addGetterSetter(m.Image,"cropHeight",0),m.Collection.mapMethods(m.Image),function(){var t=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"],e=t.length,n=m.Util.createCanvasElement().getContext("2d");function i(t){t.fillText(this.partialText,0,0)}function r(t){t.strokeText(this.partialText,0,0)}m.Text=function(t){this.___init(t)},m.Text.prototype={___init:function(n){(n=n||{}).fill=n.fill||"black",void 0===n.width&&(n.width="auto"),void 0===n.height&&(n.height="auto"),m.Shape.call(this,n),this._fillFunc=i,this._strokeFunc=r,this.className="Text";for(var o=0;o<e;o++)this.on(t[o]+"Change.kinetic",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),i=this.getTextHeight(),r=this.getLineHeight()*i,o=this.textArr,a=o.length,s=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save(),t.translate(n,0),t.translate(0,n+i/2),e=0;e<a;e++){var h=o[e],c=h.text,l=h.width;t.save(),"right"===this.getAlign()?t.translate(s-l-2*n,0):"center"===this.getAlign()&&t.translate((s-l-2*n)/2,0),this.partialText=c,t.fillStrokeShape(this),t.restore(),t.translate(0,r)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=m.Util._isString(t)?t:t.toString();return this._setAttr("text",e),this},getWidth:function(){return"auto"===this.attrs.width?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return"auto"===this.attrs.height?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,i=n,r=this.getFontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:parseInt(r,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return n.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),i=0,r=this.getLineHeight()*e,o=this.attrs.width,a=this.attrs.height,s="auto"!==o,h="auto"!==a,c=this.getPadding(),l=o-2*c,u=a-2*c,f=0,d=this.getWrap(),p="none"!==d,g="char"!==d&&p;this.textArr=[],n.save(),n.font=this._getContextFont();for(var v=0,y=t.length;v<y;++v){var m=t[v],b=this._getTextWidth(m);if(s&&b>l)for(;m.length>0;){for(var _=0,S=m.length,x="",C=0;_<S;){var w=_+S>>>1,A=m.slice(0,w+1),F=this._getTextWidth(A);F<=l?(_=w+1,x=A,C=F):S=w}if(!x)break;if(g){var P=Math.max(x.lastIndexOf(" "),x.lastIndexOf("-"))+1;P>0&&(_=P,x=x.slice(0,_),C=this._getTextWidth(x))}if(this._addTextLine(x,C),i=Math.max(i,C),f+=r,!p||h&&f+r>u)break;if((m=m.slice(_)).length>0&&(b=this._getTextWidth(m))<=l){this._addTextLine(m,b),f+=r,i=Math.max(i,b);break}}else this._addTextLine(m,b),f+=r,i=Math.max(i,b);if(h&&f+r>u)break}n.restore(),this.textHeight=e,this.textWidth=i}},m.Util.extend(m.Text,m.Shape),m.Factory.addGetterSetter(m.Text,"fontFamily","Arial"),m.Factory.addGetterSetter(m.Text,"fontSize",12),m.Factory.addGetterSetter(m.Text,"fontStyle","normal"),m.Factory.addGetterSetter(m.Text,"fontVariant","normal"),m.Factory.addGetterSetter(m.Text,"padding",0),m.Factory.addGetterSetter(m.Text,"align","left"),m.Factory.addGetterSetter(m.Text,"lineHeight",1),m.Factory.addGetterSetter(m.Text,"wrap","word"),m.Factory.addGetter(m.Text,"text",""),m.Factory.addOverloadedGetterSetter(m.Text,"text"),m.Collection.mapMethods(m.Text)}(),m.Line=function(t){this.___init(t)},m.Line.prototype={___init:function(t){m.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.getPoints(),o=r.length,a=this.getTension(),s=this.getClosed();if(o){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[o-2],r[o-1])}else for(i=2;i<o;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():m.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),i=m.Util,r=i._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),o=i._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=m.Util._expandPoints(t,n);return[r[2],r[3]].concat(a).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],r[0],r[1],t[0],t[1]])}},m.Util.extend(m.Line,m.Shape),m.Factory.addGetterSetter(m.Line,"closed",!1),m.Factory.addGetterSetter(m.Line,"tension",0),m.Factory.addGetterSetter(m.Line,"points",[]),m.Collection.mapMethods(m.Line),m.Sprite=function(t){this.___init(t)},m.Sprite.prototype={___init:function(t){m.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new m.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameIndexChange.kinetic",function(){this._updated=!0}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],o=this.frameOffsets(),a=r[i+0],s=r[i+1],h=r[i+2],c=r[i+3],l=this.getImage();if(l)if(o){var u=o[e],f=2*n;t.drawImage(l,a,s,h,c,u[f+0],u[f+1],h,c)}else t.drawImage(l,a,s,h,c,0,0,h,c)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],o=this.frameOffsets(),a=r[i+2],s=r[i+3];if(t.beginPath(),o){var h=o[e],c=2*n;t.rect(h[c+0],h[c+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation();t<this.getAnimations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}},m.Util.extend(m.Sprite,m.Shape),m.Factory.addGetterSetter(m.Sprite,"animation"),m.Factory.addGetterSetter(m.Sprite,"animations"),m.Factory.addGetterSetter(m.Sprite,"frameOffsets"),m.Factory.addGetterSetter(m.Sprite,"image"),m.Factory.addGetterSetter(m.Sprite,"frameIndex",0),m.Factory.addGetterSetter(m.Sprite,"frameRate",17),m.Factory.backCompat(m.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),m.Collection.mapMethods(m.Sprite),m.Path=function(t){this.___init(t)},m.Path.prototype={___init:function(t){this.dataArray=[];var e=this;m.Shape.call(this,t),this.className="Path",this.dataArray=m.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=m.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,n=!1;t.beginPath();for(var i=0;i<e.length;i++){var r=e[i].command,o=e[i].points;switch(r){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],h=o[2],c=o[3],l=o[4],u=o[5],f=o[6],d=o[7],p=h>c?h:c,g=h>c?1:h/c,v=h>c?c/h:1;t.translate(a,s),t.rotate(f),t.scale(g,v),t.arc(0,0,p,l,l+u,1-d),t.scale(1/g,1/v),t.rotate(-f),t.translate(-a,-s);break;case"z":t.closePath(),n=!0}}n?t.fillStrokeShape(this):t.strokeShape(this)}},m.Util.extend(m.Path,m.Shape),m.Path.getLineLength=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},m.Path.getPointOnLine=function(t,e,n,i,r,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(r-n)/(i-e+1e-8),h=Math.sqrt(t*t/(1+s*s));i<e&&(h*=-1);var c,l=s*h;if(i===e)c={x:o,y:a+l};else if((a-n)/(o-e+1e-8)===s)c={x:o+h,y:a+l};else{var u,f,d=this.getLineLength(e,n,i,r);if(d<1e-8)return;var p=(o-e)*(i-e)+(a-n)*(r-n);u=e+(p/=d*d)*(i-e),f=n+p*(r-n);var g=this.getLineLength(o,a,u,f),v=Math.sqrt(t*t-g*g);h=Math.sqrt(v*v/(1+s*s)),i<e&&(h*=-1),c={x:u+h,y:f+(l=s*h)}}return c},m.Path.getPointOnCubicBezier=function(t,e,n,i,r,o,a,s,h){function c(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:s*c(t)+o*l(t)+i*u(t)+e*f(t),y:h*c(t)+a*l(t)+r*u(t)+n*f(t)}},m.Path.getPointOnQuadraticBezier=function(t,e,n,i,r,o,a){function s(t){return t*t}function h(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:o*s(t)+i*h(t)+e*c(t),y:a*s(t)+r*h(t)+n*c(t)}},m.Path.getPointOnEllipticalArc=function(t,e,n,i,r,o){var a=Math.cos(o),s=Math.sin(o),h=n*Math.cos(r),c=i*Math.sin(r);return{x:t+(h*a-c*s),y:e+(h*s+c*a)}},m.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r=e.split("|"),o=[],a=0,s=0;for(i=1;i<r.length;i++){var h=r[i],c=h.charAt(0),l=(h=(h=(h=(h=h.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");l.length>0&&""===l[0]&&l.shift();for(var u=0;u<l.length;u++)l[u]=parseFloat(l[u]);for(;l.length>0&&!isNaN(l[0]);){var f,d,p,g,v,y,m,b,_,S,x=null,C=[],w=a,A=s;switch(c){case"l":a+=l.shift(),s+=l.shift(),x="L",C.push(a,s);break;case"L":a=l.shift(),s=l.shift(),C.push(a,s);break;case"m":var F=l.shift(),P=l.shift();if(a+=F,s+=P,x="M",o.length>2&&"z"===o[o.length-1].command)for(var T=o.length-2;T>=0;T--)if("M"===o[T].command){a=o[T].points[0]+F,s=o[T].points[1]+P;break}C.push(a,s),c="l";break;case"M":a=l.shift(),s=l.shift(),x="M",C.push(a,s),c="L";break;case"h":a+=l.shift(),x="L",C.push(a,s);break;case"H":a=l.shift(),x="L",C.push(a,s);break;case"v":s+=l.shift(),x="L",C.push(a,s);break;case"V":s=l.shift(),x="L",C.push(a,s);break;case"C":C.push(l.shift(),l.shift(),l.shift(),l.shift()),a=l.shift(),s=l.shift(),C.push(a,s);break;case"c":C.push(a+l.shift(),s+l.shift(),a+l.shift(),s+l.shift()),a+=l.shift(),s+=l.shift(),x="C",C.push(a,s);break;case"S":d=a,p=s,"C"===(f=o[o.length-1]).command&&(d=a+(a-f.points[2]),p=s+(s-f.points[3])),C.push(d,p,l.shift(),l.shift()),a=l.shift(),s=l.shift(),x="C",C.push(a,s);break;case"s":d=a,p=s,"C"===(f=o[o.length-1]).command&&(d=a+(a-f.points[2]),p=s+(s-f.points[3])),C.push(d,p,a+l.shift(),s+l.shift()),a+=l.shift(),s+=l.shift(),x="C",C.push(a,s);break;case"Q":C.push(l.shift(),l.shift()),a=l.shift(),s=l.shift(),C.push(a,s);break;case"q":C.push(a+l.shift(),s+l.shift()),a+=l.shift(),s+=l.shift(),x="Q",C.push(a,s);break;case"T":d=a,p=s,"Q"===(f=o[o.length-1]).command&&(d=a+(a-f.points[0]),p=s+(s-f.points[1])),a=l.shift(),s=l.shift(),x="Q",C.push(d,p,a,s);break;case"t":d=a,p=s,"Q"===(f=o[o.length-1]).command&&(d=a+(a-f.points[0]),p=s+(s-f.points[1])),a+=l.shift(),s+=l.shift(),x="Q",C.push(d,p,a,s);break;case"A":g=l.shift(),v=l.shift(),y=l.shift(),m=l.shift(),b=l.shift(),_=a,S=s,a=l.shift(),s=l.shift(),x="A",C=this.convertEndpointToCenterParameterization(_,S,a,s,m,b,g,v,y);break;case"a":g=l.shift(),v=l.shift(),y=l.shift(),m=l.shift(),b=l.shift(),_=a,S=s,a+=l.shift(),s+=l.shift(),x="A",C=this.convertEndpointToCenterParameterization(_,S,a,s,m,b,g,v,y)}o.push({command:x||c,points:C,start:{x:w,y:A},pathLength:this.calcLength(w,A,x||c,C)})}"z"!==c&&"Z"!==c||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},m.Path.calcLength=function(t,e,n,i){var r,o,a,s,h=m.Path;switch(n){case"L":return h.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,o=h.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;s<=1;s+=.01)a=h.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"Q":for(r=0,o=h.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;s<=1;s+=.01)a=h.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"A":r=0;var c=i[4],l=i[5],u=i[4]+l,f=Math.PI/180;if(Math.abs(c-u)<f&&(f=Math.abs(c-u)),o=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),l<0)for(s=c-f;s>u;s-=f)a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(s=c+f;s<u;s+=f)a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=h.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),r+=h.getLineLength(o.x,o.y,a.x,a.y)}return 0},m.Path.convertEndpointToCenterParameterization=function(t,e,n,i,r,o,a,s,h){var c=h*(Math.PI/180),l=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-i)/2,u=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-i)/2,f=l*l/(a*a)+u*u/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var d=Math.sqrt((a*a*(s*s)-a*a*(u*u)-s*s*(l*l))/(a*a*(u*u)+s*s*(l*l)));r===o&&(d*=-1),isNaN(d)&&(d=0);var p=d*a*u/s,g=d*-s*l/a,v=(t+n)/2+Math.cos(c)*p-Math.sin(c)*g,y=(e+i)/2+Math.sin(c)*p+Math.cos(c)*g,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},S=_([1,0],[(l-p)/a,(u-g)/s]),x=[(l-p)/a,(u-g)/s],C=[(-1*l-p)/a,(-1*u-g)/s],w=_(x,C);return b(x,C)<=-1&&(w=Math.PI),b(x,C)>=1&&(w=0),0===o&&w>0&&(w-=2*Math.PI),1===o&&w<0&&(w+=2*Math.PI),[v,y,a,s,S,w,c,o]},m.Factory.addGetterSetter(m.Path,"data"),m.Collection.mapMethods(m.Path),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}m.TextPath=function(t){this.___init(t)},m.TextPath.prototype={___init:function(n){var i=this;this.dummyCanvas=m.Util.createCanvasElement(),this.dataArray=[],m.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=m.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){i.dataArray=m.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",i._setTextData),i._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,n=0;n<e.length;n++){t.save();var i=e[n].p0;t.translate(i.x,i.y),t.rotate(e[n].rotation),this.partialText=e[n].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){m.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text);this.textWidth=e.width,this.textHeight=e.height,this.glyphInfo=[];for(var n,i,r,o=this.attrs.text.split(""),a=-1,s=0,h=function(){s=0;for(var e=t.dataArray,i=a+1;i<e.length;i++){if(e[i].pathLength>0)return a=i,e[i];"M"==e[i].command&&(n={x:e[i].points[0],y:e[i].points[1]})}return{}},c=function(e){var o=t._getTextSize(e).width,a=0,c=0;for(i=void 0;Math.abs(o-a)/o>.01&&c<25;){c++;for(var l=a;void 0===r;)(r=h())&&l+r.pathLength<o&&(l+=r.pathLength,r=void 0);if(r==={}||void 0===n)return;var u=!1;switch(r.command){case"L":m.Path.getLineLength(n.x,n.y,r.points[0],r.points[1])>o?i=m.Path.getPointOnLine(o,n.x,n.y,r.points[0],r.points[1],n.x,n.y):r=void 0;break;case"A":var f=r.points[4],d=r.points[5],p=r.points[4]+d;0===s?s=f+1e-8:o>a?s+=Math.PI/180*d/Math.abs(d):s-=Math.PI/360*d/Math.abs(d),(d<0&&s<p||d>=0&&s>p)&&(s=p,u=!0),i=m.Path.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],s,r.points[6]);break;case"C":0===s?s=o>r.pathLength?1e-8:o/r.pathLength:o>a?s+=(o-a)/r.pathLength:s-=(a-o)/r.pathLength,s>1&&(s=1,u=!0),i=m.Path.getPointOnCubicBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]);break;case"Q":0===s?s=o/r.pathLength:o>a?s+=(o-a)/r.pathLength:s-=(a-o)/r.pathLength,s>1&&(s=1,u=!0),i=m.Path.getPointOnQuadraticBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3])}void 0!==i&&(a=m.Path.getLineLength(n.x,n.y,i.x,i.y)),u&&(u=!1,r=void 0)}},l=0;l<o.length&&(c(o[l]),void 0!==n&&void 0!==i);l++){var u=m.Path.getLineLength(n.x,n.y,i.x,i.y),f=m.Path.getPointOnLine(0+u/2,n.x,n.y,i.x,i.y),d=Math.atan2(i.y-n.y,i.x-n.x);this.glyphInfo.push({transposeX:f.x,transposeY:f.y,text:o[l],rotation:d,p0:n,p1:i}),n=i}}},m.TextPath.prototype._getContextFont=m.Text.prototype._getContextFont,m.Util.extend(m.TextPath,m.Shape),m.Factory.addGetterSetter(m.TextPath,"fontFamily","Arial"),m.Factory.addGetterSetter(m.TextPath,"fontSize",12),m.Factory.addGetterSetter(m.TextPath,"fontStyle","normal"),m.Factory.addGetterSetter(m.TextPath,"fontVariant","normal"),m.Factory.addGetter(m.TextPath,"text",""),m.Collection.mapMethods(m.TextPath)}(),m.RegularPolygon=function(t){this.___init(t)},m.RegularPolygon.prototype={___init:function(t){m.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.attrs.sides,o=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-o),e=1;e<r;e++)n=o*Math.sin(2*e*Math.PI/r),i=-1*o*Math.cos(2*e*Math.PI/r),t.lineTo(n,i);t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.RegularPolygon,m.Shape),m.Factory.addGetterSetter(m.RegularPolygon,"radius",0),m.Factory.addGetterSetter(m.RegularPolygon,"sides",0),m.Collection.mapMethods(m.RegularPolygon),m.Star=function(t){this.___init(t)},m.Star.prototype={___init:function(t){m.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*i;r++){var o=r%2==0?n:e,a=o*Math.sin(r*Math.PI/i),s=-1*o*Math.cos(r*Math.PI/i);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.Star,m.Shape),m.Factory.addGetterSetter(m.Star,"numPoints",5),m.Factory.addGetterSetter(m.Star,"innerRadius",0),m.Factory.addGetterSetter(m.Star,"outerRadius",0),m.Collection.mapMethods(m.Star),y=(v=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"]).length,m.Label=function(t){this.____init(t)},m.Label.prototype={____init:function(t){var e=this;m.Group.call(this,t),this.className="Label",this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(t){var e,n=this,i=function(){n._sync()};for(e=0;e<y;e++)t.on(v[e]+"Change.kinetic",i)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,i,r,o,a,s=this.getText(),h=this.getTag();if(s&&h){switch(t=s.getWidth(),e=s.getHeight(),n=h.getPointerDirection(),i=h.getPointerWidth(),a=h.getPointerHeight(),r=0,o=0,n){case"up":r=t/2,o=-1*a;break;case"right":r=t+i,o=e/2;break;case"down":r=t/2,o=e+a;break;case"left":r=-1*i,o=e/2}h.setAttrs({x:-1*r,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*r,y:-1*o})}}},m.Util.extend(m.Label,m.Group),m.Collection.mapMethods(m.Label),m.Tag=function(t){this.___init(t)},m.Tag.prototype={___init:function(t){m.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),i=this.getPointerDirection(),r=this.getPointerWidth(),o=this.getPointerHeight(),a=this.getCornerRadius();t.beginPath(),t.moveTo(0,0),"up"===i&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+r)/2,0)),a?(t.lineTo(e-a,0),t.arc(e-a,a,a,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===i&&(t.lineTo(e,(n-o)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+o)/2)),a?(t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1)):t.lineTo(e,n),"down"===i&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-r)/2,n)),a?(t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),"left"===i&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-o)/2)),a&&(t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)}},m.Util.extend(m.Tag,m.Shape),m.Factory.addGetterSetter(m.Tag,"pointerDirection","none"),m.Factory.addGetterSetter(m.Tag,"pointerWidth",0),m.Factory.addGetterSetter(m.Tag,"pointerHeight",0),m.Factory.addGetterSetter(m.Tag,"cornerRadius",0),m.Collection.mapMethods(m.Tag),m.Arrow=function(t){this.____init(t)},m.Arrow.prototype={____init:function(t){m.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){var e=2*Math.PI,n=this.points(),i=n.length,r=n[i-2]-n[i-4],o=n[i-1]-n[i-3],a=(Math.atan2(o,r)+e)%e,s=this.pointerLength(),h=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[i-2],n[i-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),r=n[2]-n[0],o=n[3]-n[1],t.rotate((Math.atan2(-o,-r)+e)%e),t.moveTo(0,0),t.lineTo(-10,6),t.lineTo(-10,-6),t.closePath(),t.restore()),t.fillStrokeShape(this),m.Line.prototype._sceneFunc.apply(this,arguments)}},m.Util.extend(m.Arrow,m.Line),m.Factory.addGetterSetter(m.Arrow,"pointerLength",10),m.Factory.addGetterSetter(m.Arrow,"pointerWidth",10),m.Factory.addGetterSetter(m.Arrow,"pointerAtBeginning",!1),m.Collection.mapMethods(m.Arrow)}).call(this,n(8))},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){t.exports=n.p+"assets/iconfont.9d49c777851b8a667190fb32113a8f37.eot"},function(t,e,n){var i=n(31),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(7).Symbol;t.exports=i},function(t,e,n){var i=n(29),r=n(5),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){var i=n(15);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"* {\n  font-size: 14px;\n}",""])},function(t,e,n){"use strict";
/** @license React v16.6.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(17),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,h=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(t,e,n,i,r,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,i,r,o,a,s],c=0;(t=Error(e.replace(/%s/g,function(){return h[c++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function S(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||b}function x(){}function C(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&m("85"),this.updater.enqueueSetState(this,t,e,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=S.prototype;var w=C.prototype=new x;w.constructor=C,i(w,S.prototype),w.isPureReactComponent=!0;var A={current:null,currentDispatcher:null},F=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var i=void 0,r={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)F.call(e,i)&&!P.hasOwnProperty(i)&&(r[i]=e[i]);var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){for(var c=Array(h),l=0;l<h;l++)c[l]=arguments[l+2];r.children=c}if(t&&t.defaultProps)for(i in h=t.defaultProps)void 0===r[i]&&(r[i]=h[i]);return{$$typeof:o,type:t,key:a,ref:s,props:r,_owner:A.current}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var D=/\/+/g,O=[];function G(t,e,n,i){if(O.length){var r=O.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function E(t,e,n){return null==t?0:function t(e,n,i,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var h=!1;if(null===e)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case o:case a:h=!0}}if(h)return i(r,e,""===n?"."+L(e,0):n),1;if(h=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+L(s=e[c],c);h+=t(s,l,i,r)}else if(l=null===e||"object"!=typeof e?null:"function"==typeof(l=y&&e[y]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)h+=t(s=s.value,l=n+L(s,c++),i,r);else"object"===s&&m("31","[object Object]"==(i=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":i,"");return h}(t,"",e,n)}function L(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function R(t,e){t.func.call(t.context,e,t.count++)}function I(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?N(t,i,n,function(t){return t}):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+n)),i.push(t))}function N(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),E(t,I,e=G(e,o,i,r)),M(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return N(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;E(t,R,e=G(null,null,e,n)),M(e)},count:function(t){return E(t,function(){return null},null)},toArray:function(t){var e=[];return N(t,e,null,function(t){return t}),e},only:function(t){return k(t)||m("143"),t}},createRef:function(){return{current:null}},Component:S,PureComponent:C,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:u,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:d,render:t}},lazy:function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:h,Suspense:p,createElement:T,cloneElement:function(t,e,n){null==t&&m("267",t);var r=void 0,a=i({},t.props),s=t.key,h=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(h=e.ref,c=A.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(r in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)F.call(e,r)&&!P.hasOwnProperty(r)&&(a[r]=void 0===e[r]&&void 0!==l?l[r]:e[r])}if(1===(r=arguments.length-2))a.children=n;else if(1<r){l=Array(r);for(var u=0;u<r;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:o,type:t.type,key:s,ref:h,props:a,_owner:c}},createFactory:function(t){var e=T.bind(null,t);return e.type=t,e},isValidElement:k,version:"16.6.3",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:i}};B.unstable_ConcurrentMode=f,B.unstable_Profiler=c;var U={default:B},j=U&&B||U;t.exports=j.default||j},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var c in n=Object(arguments[h]))r.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){var i=n(19);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".rfox-tabs__nav {\n  border-bottom: 1px solid #D4D4D5;\n  border-radius: 4px 4px 0 0; }\n\n.rfox-tabs__nav-link {\n  display: inline-block;\n  padding: 14px 20px;\n  margin-bottom: -1px;\n  color: rgba(0, 0, 0, 0.95);\n  border-radius: 4px 4px 0 0;\n  cursor: pointer; }\n\n.rfox-tabs__nav-link__active {\n  border: 1px solid #D4D4D5;\n  border-bottom-color: white; }\n\n.rfox-tabs__contents {\n  padding: 14px;\n  border: 1px solid #D4D4D5;\n  border-top: none;\n  border-radius: 0 0 4px 4px; }\n",""])},function(t,e,n){var i=n(21);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(22);(t.exports=n(2)(!1)).push([t.i,'\n@font-face {font-family: "iconfont";\n  src: url('+i(n(6))+"); /* IE9*/\n  src: url("+i(n(6))+"#iefix) format('embedded-opentype'), \n  url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'),\n  url("+i(n(23))+") format('truetype'), \n  url("+i(n(24))+'#iconfont) format(\'svg\'); /* iOS 4.1- */\n}\n\n.iconfont {\n  font-family:"iconfont" !important;\n  font-size:16px;\n  font-style:normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-fillstar:before { content: "\\E86D"; }\n\n.icon-fillstar-hollow:before { content: "\\E86E"; }\n\n.icon-favorite:before { content: "\\E86F"; }\n\n.icon-favorite-hollow:before { content: "\\E870"; }\n\n.icon-praise:before { content: "\\E871"; }\n\n.icon-praise-hollow:before { content: "\\E872"; }\n\nicon-appreciate:before { content: "\\E88B"; }\n\nicon-appreciate-hollow:before { content: "\\E88C"; }\n\n.icon-check-circle:before { content: "\\E77D"; }\n\n.icon-close-circle:before { content: "\\E77E"; }\n\n.icon-frown:before { content: "\\E77F"; }\n\n.icon-info-circle:before { content: "\\E780"; }\n\n.icon-left-circle:before { content: "\\E781"; }\n\n.icon-down-circle:before { content: "\\E782"; }\n\n.icon-minus-circle:before { content: "\\E783"; }\n\n.icon-meh:before { content: "\\E784"; }\n\n.icon-plus-circle:before { content: "\\E785"; }\n\n.icon-question-circle:before { content: "\\E786"; }\n\n.icon-right-circle:before { content: "\\E787"; }\n\n.icon-smile:before { content: "\\E788"; }\n\n.icon-time-circle:before { content: "\\E789"; }\n\n.icon-YUAN:before { content: "\\E78A"; }\n\n.icon-up-circle:before { content: "\\E78B"; }\n\n.icon-warning-circle:before { content: "\\E78C"; }\n\n.icon-sync:before { content: "\\E78D"; }\n\n.icon-undo:before { content: "\\E78E"; }\n\n.icon-redo:before { content: "\\E78F"; }\n\n.icon-reload:before { content: "\\E790"; }\n\n.icon-message:before { content: "\\E791"; }\n\n.icon-poweroff:before { content: "\\E792"; }\n\n.icon-logout:before { content: "\\E793"; }\n\n.icon-location:before { content: "\\E794"; }\n\n.icon-edit-square:before { content: "\\E795"; }\n\n.icon-adduser:before { content: "\\E7AE"; }\n\n.icon-deleteteam:before { content: "\\E7AF"; }\n\n.icon-deleteuser:before { content: "\\E7B0"; }\n\n.icon-addteam:before { content: "\\E7B1"; }\n\n.icon-user:before { content: "\\E7B2"; }\n\n.icon-team:before { content: "\\E7B3"; }\n\n.icon-mobile:before { content: "\\E7B4"; }\n\n.icon-solution:before { content: "\\E7B5"; }\n\n.icon-file:before { content: "\\E7BB"; }\n\n.icon-bell:before { content: "\\E7C4"; }\n\n.icon-trophy:before { content: "\\E7C5"; }\n\n.icon-home:before { content: "\\E7C6"; }\n\n.icon-filter:before { content: "\\E7C7"; }\n\n.icon-like:before { content: "\\E7C8"; }\n\n.icon-unlike:before { content: "\\E7C9"; }\n\n.icon-unlock:before { content: "\\E7CA"; }\n\n.icon-lock:before { content: "\\E7CB"; }\n\n.icon-customerservice:before { content: "\\E7CC"; }\n\n.icon-folder:before { content: "\\E7D1"; }\n\n.icon-folder-open:before { content: "\\E7D2"; }\n\n.icon-camera:before { content: "\\E7D7"; }\n\n.icon-car:before { content: "\\E7D8"; }\n\n.icon-video:before { content: "\\E7DA"; }\n\n.icon-sound:before { content: "\\E7DB"; }\n\n.icon-image:before { content: "\\E7DE"; }\n\n.icon-mail:before { content: "\\E7DF"; }\n\n.icon-heart:before { content: "\\E7E0"; }\n\n.icon-star:before { content: "\\E7E1"; }\n\n.icon-right:before { content: "\\E7EB"; }\n\n.icon-left:before { content: "\\E7EC"; }\n\n.icon-up:before { content: "\\E7ED"; }\n\n.icon-down:before { content: "\\E7EE"; }\n\n.icon-arrowright:before { content: "\\E7EF"; }\n\n.icon-arrowup:before { content: "\\E7F0"; }\n\n.icon-arrowleft:before { content: "\\E7F1"; }\n\n.icon-arrowdown:before { content: "\\E7F2"; }\n\n.icon-step-backward:before { content: "\\E8EF"; }\n\n.icon-step-forward:before { content: "\\E8F0"; }\n\n',""])},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"assets/iconfont.90904979d07c6ff47942f095a35050e8.ttf"},function(t,e,n){t.exports=n.p+"assets/iconfont.e9e104a75bbbe69dec5e9bbbdfdca66d.svg"},function(t,e,n){var i=n(26);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".icon.iconfont.spin {\n  display: inline-block;\n  animation: spin 1.5s infinite; }\n\n@keyframes spin {\n  from {\n    transform: rotate(0); }\n  to {\n    transform: rotate(360deg); } }\n",""])},function(t,e,n){var i=n(28);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".rfox-rate {\n  display: inline-block;\n  outline: none; }\n\n.rfox-rate__list {\n  display: flex; }\n\n.rfox-rate__item {\n  padding: 0 2px;\n  color: #e8e8e8;\n  cursor: pointer; }\n  .rfox-rate__item:first-child {\n    padding-left: 0; }\n  .rfox-rate__item:last-child {\n    padding-right: 0; }\n  .rfox-rate__item i {\n    display: inline-block;\n    transition: transform 0.15s linear; }\n  .rfox-rate__item.rfox-rate__item--hover {\n    color: #fadb14; }\n    .rfox-rate__item.rfox-rate__item--hover i {\n      transform: scale(1.1); }\n  .rfox-rate__item.rfox-rate__item--disabled {\n    cursor: default; }\n",""])},function(t,e,n){var i=n(5),r=n(30),o=n(32),a="Expected a function",s=Math.max,h=Math.min;t.exports=function(t,e,n){var c,l,u,f,d,p,g=0,v=!1,y=!1,m=!0;if("function"!=typeof t)throw new TypeError(a);function b(e){var n=c,i=l;return c=l=void 0,g=e,f=t.apply(i,n)}function _(t){var n=t-p;return void 0===p||n>=e||n<0||y&&t-g>=u}function S(){var t=r();if(_(t))return x(t);d=setTimeout(S,function(t){var n=e-(t-p);return y?h(n,u-(t-g)):n}(t))}function x(t){return d=void 0,m&&c?b(t):(c=l=void 0,f)}function C(){var t=r(),n=_(t);if(c=arguments,l=this,p=t,n){if(void 0===d)return function(t){return g=t,d=setTimeout(S,e),v?b(t):f}(p);if(y)return d=setTimeout(S,e),b(p)}return void 0===d&&(d=setTimeout(S,e)),f}return e=o(e)||0,i(n)&&(v=!!n.leading,u=(y="maxWait"in n)?s(o(n.maxWait)||0,e):u,m="trailing"in n?!!n.trailing:m),C.cancel=function(){void 0!==d&&clearTimeout(d),g=0,c=p=l=d=void 0},C.flush=function(){return void 0===d?f:x(r())},C}},function(t,e,n){var i=n(7);t.exports=function(){return i.Date.now()}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(8))},function(t,e,n){var i=n(5),r=n(33),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=h.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var i=n(34),r=n(37),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&i(t)==o}},function(t,e,n){var i=n(9),r=n(35),o=n(36),a="[object Null]",s="[object Undefined]",h=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:h&&h in Object(t)?r(t):o(t)}},function(t,e,n){var i=n(9),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){},function(t,e){},function(t,e,n){var i=n(41);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".rfox-progress-line .rfox-progress-outer {\n  display: flex;\n  align-items: center; }\n  .rfox-progress-line .rfox-progress-outer.rfox-progress-outer--squareCap .rfox-progress-inner {\n    border-radius: 0; }\n  .rfox-progress-line .rfox-progress-outer.rfox-progress-outer--squareCap .rfox-progress-bg {\n    border-radius: 0; }\n\n.rfox-progress-line .rfox-progress-inner {\n  flex: auto;\n  background-color: #f5f5f5;\n  border-radius: 100px;\n  margin-right: 8px;\n  height: 8px; }\n\n.rfox-progress-line .rfox-progress-bg {\n  position: relative;\n  width: 0;\n  height: 100%;\n  background-color: #1890ff;\n  border-radius: 100px;\n  transition: all 0.4s cubic-bezier(0.08, 0.82, 0.17, 1); }\n\n.rfox-progress-line .rfox-progress-text {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.45); }\n\n.rfox-progress--success .rfox-progress-bg {\n  background-color: #52c41a; }\n\n.rfox-progress--exception .rfox-progress-bg {\n  background-color: #f5222d; }\n\n.rfox-progress--active .rfox-progress-bg:before {\n  content: '';\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  border-radius: 10px;\n  animation: rfox-progress--active 2.4s cubic-bezier(0.23, 1, 0.32, 1) infinite; }\n\n@keyframes rfox-progress--active {\n  0% {\n    opacity: .1;\n    width: 0; }\n  20% {\n    opacity: .5;\n    width: 0; }\n  100% {\n    opacity: 0;\n    width: 100%; } }\n",""])},function(t,e,n){"use strict";n.r(e);n(11),n(14);var i=n(0),r=n.n(i),o=n(1),a=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(){var t,n,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,h=new Array(a),l=0;l<a;l++)h[l]=arguments[l];return i=this,o=(t=c(e)).call.apply(t,[this].concat(h)),n=!o||"object"!==s(o)&&"function"!=typeof o?u(i):o,f(u(u(n)),"state",{activeKey:n.props.activeKey||n.props.defaultActiveKey,prevActiveKeyProp:n.props.activeKey}),f(u(u(n)),"handleTabClick",function(t){var e=n.props.onChange,i=t.target.dataset.key;n.setState({activeKey:i}),e(i)}),f(u(u(n)),"isActiveKeyMatch",function(){var t=n.props.children,e=n.state.activeKey,i=!1;return r.a.Children.map(t,function(t,n){(t.key||n.toString())===e&&(i=!0)}),i}),n}var n,o,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["Component"]),n=e,d=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.activeKey;return n!==e.prevActiveKeyProp?{activeKey:n,prevActiveKeyProp:n}:null}}],(o=[{key:"render",value:function(){var t=this,e=this.props.children,n=this.state.activeKey,i=this.isActiveKeyMatch();return r.a.createElement("div",{className:"rfox-tabs"},r.a.createElement("div",{className:"rfox-tabs__nav"},r.a.Children.map(e,function(e,o){var s=e.key||o.toString();i||0!==o||(n=s);var h=a()("rfox-tabs__nav-link",{"rfox-tabs__nav-link__active":n===s});return r.a.createElement("a",{className:h,"data-key":s,key:s,onClick:t.handleTabClick},e.props.tab)})),r.a.createElement("div",{className:"rfox-tabs__contents"},r.a.Children.map(e,function(t,e){var i=t.key||e.toString();return n===i?r.a.createElement("div",{className:"rfox-tabs__content"},t):null})))}}])&&h(n.prototype,o),d&&h(n,d),e}();f(d,"TabPane",void 0),f(d,"defaultProps",{defaultActiveKey:void 0,onChange:function(){}});var p=d;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,m(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,i["Component"]),n=e,(o=[{key:"render",value:function(){var t=this.props.children;return r.a.createElement("div",null,t)}}])&&v(n.prototype,o),a&&v(n,a),e}();n(18);p.TabPane=_;var S=p;n(20),n(25);function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=function(t){var e,n=t.type,i=t.size,o=t.color,s=t.style,h=t.className,c=t.title,l=t.spin,u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){x(t,e,n[e])})}return t}({color:o,fontSize:"".concat(parseInt(i,10),"px")},s);return r.a.createElement("i",{title:c,className:a()("icon","iconfont",n,(e={},x(e,h,!!h),x(e,"spin",l),e)),style:u})};C.defaultProps={size:24};var w=C;n(27);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(t){function e(){var t,n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=this,r=(t=P(e)).call.apply(t,[this].concat(a)),n=!r||"object"!==A(r)&&"function"!=typeof r?k(i):r,D(k(k(n)),"state",{value:n.props.value||n.props.defaultValue,prevValue:n.props.value,hoverIndex:void 0}),D(k(k(n)),"handleItemClick",function(t){var e=n.props,i=e.onChange,r=e.disabled,o=e.allClear,a=n.state.value;if(!r){var s=t.currentTarget,h=parseInt(s.dataset.index,10)+1;o&&h===a&&(h=void 0),n.setState({value:h}),i(h)}}),D(k(k(n)),"handleMouseOut",function(){n.props.disabled||n.setState({hoverIndex:void 0})}),D(k(k(n)),"handleOver",function(t){var e=n.props,i=e.onHoverChange;if(!e.disabled){var r=t.currentTarget,o=parseInt(r.dataset.index,10)+1;n.setState({hoverIndex:o}),i(o)}}),D(k(k(n)),"handleRateFocus",function(){(0,n.props.onFocus)()}),D(k(k(n)),"handleRateBlur",function(){(0,n.props.onBlur)()}),n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,i["Component"]),n=e,s=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.value;return n!==e.prevValue?{value:n,prevValue:n}:null}}],(o=[{key:"render",value:function(){var t=this,e=this.props,n=e.character,i=e.count,o=e.disabled,s=e.className,h=e.activeColor,c=this.state,l=c.value,u=c.hoverIndex;return r.a.createElement("div",{className:"rfox-rate",tabIndex:0,onFocus:this.handleRateFocus,onBlur:this.handleRateBlur},r.a.createElement("ul",{className:"rfox-rate__list"},Array.apply(null,Array(i)).map(function(e,i){var c=u&&u>i||l&&l>i,f=c?{color:h}:{};return r.a.createElement("li",{className:a()("rfox-rate__item",D({"rfox-rate__item--hover":c,"rfox-rate__item--disabled":o},s,!!s)),style:f,"data-index":i,key:i,onMouseOver:t.handleOver,onMouseOut:t.handleMouseOut,onClick:t.handleItemClick},n)})))}}])&&F(n.prototype,o),s&&F(n,s),e}();D(O,"defaultProps",{allClear:!1,character:r.a.createElement(w,{type:"icon-fillstar"}),className:"",count:5,defaultValue:0,disabled:!1,value:0,activeColor:"#fadb14",onBlur:function(){},onChange:function(t){},onFocus:function(){},onHoverChange:function(t){}});var G=O;function M(t,e){if("undefined"==typeof window)return 0;var n=e?"scrollTop":"scrollLeft";return t===window?t[e?"pageYOffset":"pageXOffset"]:t[n]}var E=n(10),L=n.n(E);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e){var n=t===window?document.body:t;return e?n.clientTop:n.clientLeft}var W=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o=N(e).call(this,t),n=!o||"object"!==R(o)&&"function"!=typeof o?U(i):o,j(U(U(n)),"affix",void 0),j(U(U(n)),"originLeft",void 0),j(U(U(n)),"originTop",void 0),j(U(U(n)),"handleScroll",function(){var t=n.props,e=t.target,i=t.offsetTop,r=t.offsetBottom,o=t.onChange,a=e()||window,s=n.state.isAffixed,h=!1;if(i)h=M(a,!0)+i>n.originTop;else{var c=n.affix.current.offsetHeight;h=M(a,!0)+window.innerHeight-r-c<n.originTop}n.setState({isAffixed:h},function(){s!==h&&o(h)})}),n.state={isAffixed:!1},n.affix=r.a.createRef(),n.handleScroll=L()(n.handleScroll,16),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,i["Component"]),n=e,(o=[{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){var e=(0,t.props.target)()||window,n=t.affix.current.getBoundingClientRect(),i=function(t){return t!==window?t.getBoundingClientRect():{top:0,left:0,bottom:0}}(e);t.originLeft=n.left-i.left-H(e,!1),t.originTop=n.top+M(e,!0)-i.top-H(e,!0),e.addEventListener("scroll",t.handleScroll)})}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.offsetTop,i=t.offsetBottom,o=t.target,a=this.state.isAffixed,s=o()||window;return r.a.createElement("div",{className:"rfox-affix",ref:this.affix,style:a?{position:s===window?"fixed":"absolute",top:void 0!==n?"".concat(n+(s===window?0:M(s,!0)),"px"):"auto",bottom:void 0!==i?"".concat(i,"px"):"auto",left:"".concat(this.originLeft,"px")}:null},e)}}])&&I(n.prototype,o),a&&I(n,a),e}();j(W,"defaultProps",{offsetBottom:void 0,offsetTop:void 0,target:function(){}});var z=W,Y=n(4),X=n.n(Y);n(40);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=Symbol("circleProgressStage"),tt={normal:"#1890ff",success:"#52c41a",exception:"#f5222d"};function et(t,e){if(0===e)return-90;return{left:180,top:270,right:0,bottom:90}[t]+e/2}var nt=function(t){function e(){var t,n,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s=arguments.length,h=new Array(s),c=0;c<s;c++)h[c]=arguments[c];return i=this,o=(t=Q(e)).call.apply(t,[this].concat(h)),n=!o||"object"!==q(o)&&"function"!=typeof o?J(i):o,K(J(J(n)),$,void 0),K(J(J(n)),"renderLineProgress",function(){var t=n.props,e=t.percent,i=t.showInfo,o=t.strokeWidth,s=t.strokeLineCap,h=t.strokeColor;return r.a.createElement("div",{className:a()("rfox-progress-outer",{"rfox-progress-outer--squareCap":"square"===s})},r.a.createElement("div",{className:"rfox-progress-inner",style:{height:"".concat(o,"px")}},r.a.createElement("div",{className:"rfox-progress-bg",style:{width:"".concat(e,"%"),backgroundColor:h}})),i&&r.a.createElement("span",{className:"rfox-progress-text"},"".concat(e,"%")))}),K(J(J(n)),"drawCircleProgress",function(){var t=n.props,e=t.type,i=t.width,r=t.showInfo,o=t.strokeWidth,a=t.strokeColor,s=t.strokeLineCap,h=t.status,c=t.gapPosition,l=n.props,u=l.gapDegree,f=l.percent;f=Math.max(0,Math.min(100,f)),"dashboard"===e&&(u=90);var d=i/2;n[$]&&n[$].destroy(),n[$]=new X.a.Stage({container:"rfox-progress",width:i,height:i});var p=new X.a.Layer,g=new X.a.Arc({x:d,y:d,innerRadius:d-o/2,outerRadius:d-o/2,stroke:"#f5f5f5",strokeWidth:o,angle:360-u,rotationDeg:et(c,u),lineJoin:"round"===s?s:"bevel"}),v=new X.a.Arc({x:d,y:d,innerRadius:d-o/2,outerRadius:d-o/2,stroke:a||tt[h],strokeWidth:o,angle:(360-u)*f/100,rotationDeg:et(c,u),lineJoin:"round"===s?s:"bevel"}),y=new X.a.Text({x:d,y:d,text:"".concat(f,"%"),fontSize:20,fill:"rgba(0, 0, 0, 0.65)"});y.setOffset({x:y.getWidth()/2,y:y.getHeight()/2}),p.add(g),p.add(v),r&&p.add(y),n[$].add(p).draw()}),n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,i["Component"]),n=e,(o=[{key:"componentDidMount",value:function(){"circle"===this.props.type&&this.drawCircleProgress()}},{key:"componentDidUpdate",value:function(){"circle"===this.props.type&&this.drawCircleProgress()}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.status;return r.a.createElement("div",{id:"rfox-progress",className:"rfox-progress rfox-progress-".concat(e," rfox-progress--").concat(n)},"line"===e&&this.renderLineProgress())}}])&&V(n.prototype,o),s&&V(n,s),e}();K(nt,"defaultProps",{type:"line",showInfo:!0,percent:0,status:"normal",strokeWidth:8,strokeLineCap:"round",width:132,gapPosition:"bottom",gapDegree:0});var it=nt;n.d(e,"Tabs",function(){return S}),n.d(e,"Icon",function(){return w}),n.d(e,"Rate",function(){return G}),n.d(e,"Affix",function(){return z}),n.d(e,"Progress",function(){return it});var rt={Tabs:S,Icon:w,Rate:G,Affix:z,Progress:it};e.default=rt}])});